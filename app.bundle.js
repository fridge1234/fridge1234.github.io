(()=>{var e,t={51:(e,t,o)=>{"use strict";var n=o(706),a=o(379),i=o.n(a),r=o(679),s={insert:"head",singleton:!1};i()(r.Z,s);r.Z.locals;var l=o(307);var c=o(242),d=o(171),p=o(469),m=o(141);const u=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document,v=/ Android | webOS | iPhone | iPad | iPod | BlackBerry | IEMobile | Opera Mini /i.test(navigator.userAgent);let f,y,x,g=!1;const h=(e,t)=>{y=e,f=t},w=()=>{g||(g=!0,n.ZP.timeline().remove(x),y.play(),window.removeEventListener("wheel",w),window.removeEventListener("touchmove",w))},P=()=>{g=!1,y.pause(),(()=>{x=n.ZP.timeline();const e={rot:0},t=(new l.Pa4).copy(f.position).distanceTo(f.lookTarget.position);x.to(e,{rot:3e5,duration:1e4,onUpdate:()=>{f.proxypos.set(Math.cos(.005*e.rot)*t,f.proxypos.y,Math.sin(.005*e.rot)*t),f.updPos()}})})(),window.addEventListener("wheel",w),window.addEventListener("touchmove",w)};var b=o(681),z=o(274),A=o(962);const M=new b.E;M.setCrossOrigin("anonymous");const C=new z._;C.setDecoderPath("../node_modules/three/examples/js/libs/draco/gltf/"),M.setDRACOLoader(C);const S=(new A.x).setDataType(l.ywz),E=new l.dpR;var F=o(333),k=o.n(F),U=o(562),T=o.n(U);const{randFloat:_}=l.M8C;var D=o(692),L=o.n(D),j=o(191),Z=o.n(j);const{randFloat:O}=l.M8C,W={},R=async(e,t,o)=>{const[n,a,i,r,s,c,d,p,m,u]=await Promise.all([S.loadAsync("./assets/venice_sunset_1k.hdr"),M.loadAsync("./assets/aster v4.gltf"),M.loadAsync("./assets/globe v2-4 (1).gltf"),M.loadAsync("./assets/fly.glb"),E.loadAsync("/assets/space/space5_.jpg"),E.loadAsync("./assets/star.png"),E.loadAsync("./assets/smoke.png"),E.loadAsync("./assets/comet_tex.jpg"),E.loadAsync("./assets/comet_edge.png"),E.loadAsync("./assets/trace.png")]);Object.assign(W,{startex:c,expltex:d,comettex:p,cometedgetex:m,tracetex:u});const v=t.fromEquirectangular(n).texture;t.dispose(),e.environment=v;const f=a.scene.children[0];f.material.metalness=50,f.layers.enable(1);const y=a.scene.children[1];y.layers.enable(1);const x=V(i.scene.children[2]),g=i.scene.children[1];g.layers.enable(1);const h=q(r.scene.children[0]);return{asteroid:f,fragments:y,sphere:x,comet:B(r.scene.children.find((e=>"Icosphere001"===e.name))),grid:h,stars:((e,t)=>{const o=new l.u9r,n=9e3,a=new Float32Array(3*n);for(let t=0;t<n;t++)a[3*t]=_(-1,1)*e,a[3*t+1]=_(-1,1)*e,a[3*t+2]=_(-1,1)*e;const i=new Float32Array([...Array(n)].map((e=>Math.random()))),r=new Float32Array([...Array(n)].map((e=>3.14*Math.random()*2)));o.setAttribute("position",new l.TlE(a,3)),o.setAttribute("mass",new l.TlE(i,1)),o.setAttribute("light",new l.TlE(r,1));const s=new l.jyz({defines:{RAD:`${e}.0`},uniforms:{time:{value:0},uTexture:{value:W.startex},center:{value:new l.Pa4}},vertexShader:k(),fragmentShader:T(),transparent:!0,depthWrite:!1,blending:l.WMw}),c=new l.woe(o,s);return c.material.uniforms.needsUpdate=!0,c.frustumCulled=!1,c.layers.enable(1),t.add(c),c.upd=()=>{c.material.uniforms.time.value+=.005},c})(50,e),starsF:((e=10,t)=>{const o=new l.u9r,n=8e3,a=new Float32Array(3*n);for(let t=0;t<n;t++)a[3*t]=O(-1,1)*e,a[3*t+1]=O(-1,1)*e,a[3*t+2]=O(-1,1)*e;const i=new Float32Array([...Array(n)].map((e=>Math.random())));o.setAttribute("position",new l.TlE(a,3)),o.setAttribute("mass",new l.TlE(i,1));const r=new l.jyz({defines:{RAD:`${e}.0`},uniforms:{time:{value:0},center:{value:new l.Pa4}},vertexShader:L(),fragmentShader:Z(),transparent:!0,depthWrite:!1,blending:l.WMw}),s=new l.woe(o,r);return s.material.uniforms.needsUpdate=!0,s.frustumCulled=!1,s.layers.enable(1),t.add(s),s})(35,e),platform2:g,world:((e,t,o)=>{const n=new l.xo$(800,200,200),a=new l.xoR({side:l._Li});a.shininess=-1e3,a.map=o;const i=new l.Kj0(n,a);return i.material.side=l.ehD,i.material.map.wrapS=l.rpg,i.material.map.wrapT=l.rpg,i.material.map.repeat.set(5,3),i.layers.enable(0),e.add(i),i.updateWorld=()=>i.position.copy(t.lookTarget.position),i})(e,o,s)}},V=e=>(e.material.envMapIntensity=2,e.material.roughness=.5,e.layers.enable(1),e),B=e=>(e.material.envMapIntensity=2,e.material.roughness=.5,e.layers.enable(1),e),q=e=>{const t=e.clone(),o=e.clone(),n=e.clone(),a=new l.ZAu;return a.add(e),a.add(t),a.add(o),a.add(n),e.position.set(0,0,0),t.position.set(352.5,0,0),o.position.set(705,0,0),n.position.set(1057.5,0,0),a.layers.enable(1),a};var I=o(256),$=o.n(I),H=o(403),K=o.n(H);const{randFloat:G}=l.M8C;var Y=o(872),N=o.n(Y),X=o(139),J=o.n(X);const Q=(e,t=new l.Pa4)=>{const o=new l.Kj0(new l.xo$(1,32,32),new l.jyz({vertexShader:N(),fragmentShader:J(),uniforms:{utime:{value:0}},transparent:!0,side:l.ehD,depthWrite:!1,blending:l.WMw}));return o.material.uniforms.needsUpdate=!0,o.frustumCulled=!1,o.layers.enable(1),e.add(o),o.position.copy(t),n.ZP.to(o.material.uniforms.utime,{value:Math.PI,duration:2,onUpdate:()=>{let e=3*(o.material.uniforms.utime.value/Math.PI)+1;o.scale.set(4*e,3*e,4*e)},onComplete:()=>e.remove(o)}),{sphrshdr:o}},ee=()=>2*Math.random()-1;function te({asteroid:e,fragments:t,sphere:o,camera:a,camPlatform:i,scene:r,stars:s,starsF:c}){let d={v:0,v2:0,v3:0};let p=!1;const m=()=>{r.remove(e),e.geometry.dispose(),e.material.dispose(),e.remove()},u=n.ZP.timeline({defaults:{ease:"linear"}});return u.call((()=>{r.add(e),c.material.uniforms.center.value=e.position,s.material.uniforms.center.value=e.position,i.proxypos.set(10,0,10),e.position.set(0,10,0)})).to(e.position,15,{y:-10,ease:"sine.out"}).to(d,25,{v:2100,onUpdate:()=>{i.proxypos.set(10*Math.cos(.005*d.v),i.proxypos.y,10*Math.sin(.005*d.v)),i.updPos()}},0).to(i.proxypos,10,{onStart:()=>{i.lookTarget=e},y:-10,ease:"sine.in"},5).to(d,2,{v2:300,onStart:()=>e.shpos=e.position,onUpdate:()=>{e.position.copy(new l.Pa4(ee(),ee(),ee()).divideScalar(5).add(e.shpos)),p||(p=!0,((e,t)=>{const o=5e3,a=new Float32Array(3*o),i=new Float32Array(3*o),r=new Float32Array(o);for(let t=0;t<o;t++)i[3*t]=G(-1,1)/50,i[3*t+1]=G(-1,1)/50,i[3*t+2]=G(-1,1)/50,a[3*t]=e.x+G(-1,1)/5,a[3*t+1]=e.y+G(-1,1)/5,a[3*t+2]=e.z+G(-1,1)/5,r[t]=Math.random();const s=new l.u9r;s.setAttribute("position",new l.TlE(a,3)),s.setAttribute("velocity",new l.TlE(i,3)),s.setAttribute("mass",new l.TlE(r,1));const c=new l.jyz({vertexShader:$(),fragmentShader:K(),uniforms:{tex:{value:W.expltex},time:{value:0},groundzero:{value:e}},transparent:!0,depthWrite:!1,blending:l.WMw});c.uniforms.needsUpdate=!0;const d=new l.woe(s,c);d.layers.enable(1),d.frustumCulled=!1,t.add(d),n.ZP.to(c.uniforms.time,{value:1e3,duration:2,delay:1,ease:"power3.in",onComplete:()=>{t.remove(d),d.material.dispose(),d.geometry.dispose(),d.remove()}})})(e.position,r),setTimeout((()=>Q(r,e.position)),800))},onComplete:()=>{const{x:n,y:a,z:l}=e.shpos;r.add(t),r.add(o),t.position.set(n,a,l),o.position.set(n,a,l),i.lookTarget=o,m(),s.material.uniforms.center.value=o.position,c.material.uniforms.center.value=o.position}},15).to(d,2,{v3:300,ease:"power4.out",onUpdate:()=>{t.children.forEach((e=>{e.dirs=new l.Pa4,e.dirs.subVectors(e.geometry.boundingSphere.center,new l.Pa4(0,0,0)).normalize(),e.dirs.multiplyScalar(1.25),e.position.add(e.dirs)})),t.position.set(0,t.position.y+.44,0)},onComplete:()=>{r.remove(t),t.children.forEach((e=>{"Mesh"===e.type&&(e.material.dispose(),e.geometry.dispose())})),t.clear()}},17),u}var oe=o(864),ne=o.n(oe),ae=o(35),ie=o.n(ae);const{randFloat:re}=l.M8C,{pow:se}=Math;l.Ilk.prototype.toVec3=function(){const e=e=>Number(e).toPrecision(3);return`vec3(${e(se(this.r,2.2))},${e(se(this.g,2.2))},${e(se(this.b,2.2))})`};const le=function(e,t,o,n=500){n+=Math.floor(12*Math.random());const a=e;a.prev=new l.Pa4;const{geometry:i,lifetime:r,vertices:s}=(e=>{const t=new l.u9r,o=new Float32Array(3*e),n=new Float32Array(e),a=new Float32Array(e);for(let t=0;t<e;t++)n[t]=re(0,1),a[t]=0;return t.setAttribute("position",new l.TlE(o,3)),t.setAttribute("mass",new l.TlE(n,1)),t.setAttribute("lifetime",new l.TlE(a,1)),t.needsUpdate=!0,{geometry:t,lifetime:a,vertices:o}})(n),c=(e=>new l.jyz({vertexShader:ne(),fragmentShader:ie(),defines:{COLOR:new l.Ilk(e).toVec3()},uniforms:{utex:{value:W.tracetex},utarget:{value:new l.Pa4}},transparent:!0,depthWrite:!1,blending:l.WMw}))(o),d=new l.woe(i,c);d.frustumCulled=!1,d.layers.enable(1),t.add(d);let p=[],m=[...Array(n)].map(((e,t)=>t)),u=0;const v=(e,t=0)=>{i.attributes.position.needsUpdate=!0,m.length<1&&(p.splice(u,1),m.push(u),u=++u%n);const o=m.shift();r[o]=0,s[3*o]=e.x,s[3*o+1]=e.y,s[3*o+2]=e.z,p.push(o)},f=(e,t)=>{if(e.distanceTo(t)>.1){const o=(new l.Pa4).copy(e).add(t).divideScalar(2);v(o,.005),f(e,o),f(o,t)}};let y;d.material.uniforms.needsUpdate=!0;const x=()=>{y=requestAnimationFrame(x),a.prev.equals(a.position)||(f(a.prev,a.position),v(a.position),a.prev.copy(a.position)),(()=>{i.attributes.lifetime.needsUpdate=!0;let e=0;for(;e<p.length;)r[p[e]]+=.01,r[p[e]]>1?(m.push(p[e]),p.splice(e,1)):e++})(),d.material.uniforms.utarget.value=a.position};return x(),d.selfrem=()=>{cancelAnimationFrame(y),t.remove(d),d.clear(),d.material.dispose(),d.geometry.dispose()},d};function ce({sphere:e,camPlatform:t,scene:o,comet:a,grid:i,stars:r,starsF:s}){let l=[];const c=n.ZP.timeline({defaults:{ease:"linear"}});return c.to(e.position,3,{x:0,y:5,z:0},"enterScene2").to(t.proxypos,3,{x:10,y:2,z:3,onUpdate:t.updPos},"enterScene2").call((()=>{o.add(i),i.position.set(-1800,0,0),o.add(e),l=[...Array(5)].map((e=>a.clone())),l.forEach(((t,n)=>{o.add(t),t.tr=le(t,o,"#ffffff",500),t.mass=Math.random();let a=e.position.z-15+4*(n+1.5);Math.abs(Math.abs(e.position.z)-Math.abs(a))<2&&(a=a>0?a+2:a-2),t.position.set(e.position.x-40-10*(1-t.mass),5+2.5*ee(),a)})),s.material.uniforms.center.value=e.position,r.material.uniforms.center.value=e.position,l.forEach((e=>{c.to(e.position,24,{x:-1420-100*e.mass,ease:"sine.in"},"race")}),"race")})).to(i.position,{x:-1200,duration:1,ease:"expo.out"},"race").to(e.position,24,{x:-1550,ease:"sine.in",onUpdate:()=>{s.material.uniforms.time.value+=.25},onStart:()=>{e.tr=le(e,o,"#f7dd7e",500)}},"race").to(t.proxypos,13,{y:18,z:-40,ease:"sine.in"},"race").to(t.proxypos,24,{x:-1525,ease:"sine.in",onUpdate:t.updPos},"race").to(t.proxypos,7,{x:-1340,y:8,z:15,ease:"sine.out",onUpdate:t.updPos},"race+=16").to(t.proxypos,5,{x:-1525,onUpdate:t.updPos,ease:"linear"},"race+=19").to(i.position,3,{x:0,onStart:()=>{l.forEach((e=>c.to(e.position,3,{x:100*e.mass},"finish")))},onComplete:()=>{o.remove(i),i.children.forEach((e=>{e.material.dispose(),e.geometry.dispose()})),i.clear(),[...l,a].forEach((e=>{o.remove(e),e.material.dispose(),e.geometry.dispose(),e.remove(),e.tr&&e.tr.selfrem()}))}},"finish").to(e.position,3,{x:-1700,ease:"linear"},"finish").to(t.proxypos,3,{x:-1685,z:-10,ease:"linear",onUpdate:t.updPos},"finish").to(e.position,7,{x:0,y:0,z:0,ease:"expo.inOut",onComplete:()=>{e.tr.selfrem()}},"enterScene3").to(t.proxypos,7,{x:-20,y:15,z:0,onUpdate:t.updPos,ease:"expo.inOut"},"enterScene3"),c}var de=o(463),pe=o.n(de),me=o(148),ue=o.n(me),ve=o(471),fe=o.n(ve),ye=o(598),xe=o.n(ye);const{randFloat:ge,clamp:he}=l.M8C,we=e=>{const t=(o=e,Math.sqrt(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]));var o;return[e[0]/t,e[1]/t,e[2]/t]},Pe=(e=1,t,o)=>{const a=(e=>{const t=new Float32Array(150),o=new Float32Array(50);for(let n=0;n<50;n++){const a=we([he(2*ge(-1,1)-.05,-.025,.025),ge(-1,1)*e,ge(-1,1)*e]);t[3*n]=a[2],t[3*n+1]=a[1],t[3*n+2]=a[0],o[n]=Math.random()/3}const n=new l.u9r;n.setAttribute("position",new l.TlE(t,3)),n.setAttribute("mass",new l.TlE(o,1));const a=new l.jyz({vertexShader:fe(),fragmentShader:xe(),uniforms:{tex:{type:"t",value:W.cometedgetex},time:{value:0},center:{value:new l.Pa4}},transparent:!0,depthWrite:!1,blending:l.WMw}),i=new l.woe(n,a);return i.material.uniforms.needsUpdate=!0,i.frustumCulled=!1,i})(e),i=(e=>{const t=new l.Kj0(new l.xo$(e,32,32),new l.jyz({vertexShader:pe(),fragmentShader:ue(),uniforms:{uTex:{value:W.comettex},time:{value:0}}}));return t.material.uniforms.needsUpdate=!0,t})(e);let r,s=0;const c=()=>{r=requestAnimationFrame(c),i.material.uniforms.time.value+=5e-4,s+=.0025,a.material.uniforms.center.value=i.position,a.quaternion.copy(o.quaternion),a.rotation.z=s,a.rotateOnAxis(new l.Pa4(1,0,0),s)};c();const d=new l.ZAu;return d.add(i),d.add(a),t.add(d),d.layers.enable(1),d.selfrem=()=>{cancelAnimationFrame(r),t.remove(d),d.clear(),d.remove()},d.spawnEffect=()=>{n.ZP.fromTo(d.scale,.5,{x:0,y:0,z:0},{x:1,y:1,z:1})},d.spawnEffect(),d};function be({sphere:e,camPlatform:t,scene:o,platform2:a,stars:i,starsF:r,camera:s}){const l={rot:0,rad:15,y:0};let c=[];const d=n.ZP.timeline({defaults:{ease:"linear"}});return d.call((()=>{n.ZP.to(e.position,{x:0,y:0,z:0}),o.add(a),a.position.set(0,-50,0),[...Array(15)].forEach(((t,n)=>{const a=Pe(1,o,s);c.push(a),a.position.set(e.position.x-40-10*Math.random(),5+2*ee(),e.position.z-15+4*(n+1.5))})),c.forEach(((t,a)=>{t.intersect=!1,t.tr=le(t,o,"white",500),t.position.set(ee()>0?10*ee()+2:-10*ee()-2,e.position.y,ee()>0?10*ee()+2:-10*ee()-2),t.rad=15*Math.random()+3*a+11,t.zc=1;let i=100*(a+10),r=e.scale.z/2,s=e.scale.x/2;d.to(t,{rad:0,duration:2*a+5,ease:"linear"},0),d.to(t,{zc:10,duration:2*a+5,ease:"sine.in",onUpdate:()=>{if(i+=t.zc,t.position.z<r&&t.position.z>-r&&t.position.x<s&&t.position.x>-s&&!t.intersect){t.intersect=!0,t.selfrem(),t.tr.selfrem();const a=e.scale.x+.5/e.scale.x+.25;n.ZP.to(e.scale,1,{x:a,y:a,z:a,ease:"linear",onComplete:()=>{r=e.scale.z,s=e.scale.x}}),n.ZP.to(e.position,1,{y:e.scale.x/2.5}),Q(o,e.position);let i=e.material.metalness;n.ZP.to(e.material,.5,{metalness:10,onComplete:()=>n.ZP.to(e.material,.5,{metalness:i+.55})})}else t.position.set(Math.cos(.02*i)*t.rad,0,Math.sin(.02*i)*t.rad)}},0)}))})).to(a.position,{y:-5,duration:3,ease:"power4.out"},0).to(l,100,{rot:1e4,rad:28,y:2.5,onUpdate:()=>{t.proxypos.set(Math.cos(.005*l.rot)*l.rad,l.y,Math.sin(.005*l.rot)*l.rad),t.updPos()}},0),d}var ze=o(513);let Ae,Me,Ce,Se;const Ee=document.querySelector(".loader"),Fe=()=>{Me=ze.ZP.timeline(),ze.ZP.set(Ce.proxypos,{x:-2,y:1.5}),Me.to(Ae.rotation,{y:10,x:1,duration:10,ease:"linear",repeat:-1,yoyo:!0}),Me.to(Ee,{opacity:0,duration:4},0)};const{scene:ke,animate:Ue,setcb:Te,camera:_e,camPlatform:De,pmremGenerator:Le,controls:je}=(()=>{const e=new l.xsS,t=new l.cPb(75,1,.1,1e3),o=new l.CP7({antialias:!u,precision:v?"mediump":"highp"});o.autoClear=!1,o.outputEncoding=l.knz,o.setPixelRatio(2);const a=()=>{t.aspect=window.innerWidth/window.innerHeight,o.setSize(window.innerWidth,window.innerHeight),t.updateProjectionMatrix()};a(),document.body.appendChild(o.domElement),window.addEventListener("resize",a);const i=new l.anP(o);i.compileEquirectangularShader(),t.layers.enable(0),t.layers.enable(1),o.autoClear=!1;const r=new c.x(o),s=new p.C(e,t),f=new l.FM8(window.innerWidth,window.innerHeight),y=new d.m(o.getDrawingBufferSize(f),1,1,.1);r.addPass(s),r.addPass(y),y.strength=3;const{camPlatform:x,controls:g}=((e,t,o)=>{const a=new m.z(e,t.domElement);a.dampingFactor=.025,a.enableDamping=!0,a.maxDistance=50,a.zoomSpeed=2.2,a.enablePan=!1,a.screenSpacePanning=!0;const i=new l.ZAu;i.add(e),o.add(i),i.proxypos=new l.Pa4,i.lock=!1,i.updPos=()=>{i.lock?i.position.copy(i.lookTarget.position):(i.position.copy(i.proxypos),a.update())},i.lookTarget={position:new l.Pa4},i.lookAt=()=>{e.lookAt(i.lookTarget.position)},i.animateCB=()=>{i.lock&&a.update(),i.lookAt()},i.returnLock=!1,i.test=new l.Pa4,i.timer=null,i.timerLock=!1,a.addEventListener("start",(()=>{if(console.log("start"),!i.returnLock&&!i.timerLock){i.lock=!0;const t=(new l.Pa4).copy(i.position);t.sub(i.lookTarget.position),i.position.copy(i.lookTarget.position),i.position.y+=2,i.position.x-=12,e.position.copy(t),i.test.copy(t)}})),a.addEventListener("end",(()=>{console.log("end"),clearTimeout(i.timer),i.timer=setTimeout(r,1e3),i.timerLock=!0}));const r=()=>{if(i.timerLock=!1,console.log("thats it!"),!i.returnLock){i.lock=!1;const r=(new l.Pa4).copy(e.position);r.add(i.lookTarget.position),i.position.copy(r),t=i.test,o=e.position,t.distanceTo(o)>.5?n.ZP.to(e.position,{x:0,y:0,z:0,onUpdate:i.lookAt,duration:1.5,onStart:()=>{a.enabled=!1},onComplete:()=>{a.enabled=!0}}):e.position.set(0,0,0)}var t,o};return{controls:a,camPlatform:i}})(t,o,e);let h=0,w=()=>{h!==e.children.length&&(h=e.children.length,console.log(e.children))};const P=()=>{requestAnimationFrame(P),x.updPos(),x.animateCB(),o.clear(),t.layers.set(0),r.render(),o.clearDepth(),t.layers.set(1),o.render(e,t),w()};return{scene:e,camera:t,camPlatform:x,renderer:o,animate:P,setcb:e=>w=e,pmremGenerator:i,controls:g}})();(e=>{const t=[];t[0]=new l.Mig(16777215,.3),t[1]=new l.Ox3(16777215,1),t[1].position.set(0,1e3,0),e.add(t[0]),e.add(t[1])})(ke),Ue(),(async(e,t)=>{Ce=t,Se=e;const o=await M.loadAsync("assets/golden spiral cage send.glb");Ae=o.scene.children[12],e.add(Ae),Ae.layers.enable(1),Fe()})(ke,De);(async()=>{const{asteroid:e,fragments:t,sphere:o,comet:n,grid:a,stars:i,starsF:r,platform2:s,world:l}=await R(ke,Le,De);Te((()=>{i.upd(),o.rotateY(.0025*Math.PI),l.updateWorld()})),Me.clear(),Se.remove(Ae),document.body.removeChild(Ee),Ze({asteroid:e,fragments:t,sphere:o,comet:n,grid:a,stars:i,starsF:r,platform2:s})})();const Ze=({asteroid:e,fragments:t,sphere:o,comet:a,grid:i,stars:r,starsF:s,platform2:c})=>{const d=n.ZP.timeline();h(d,De);const p={camPlatform:De,camera:_e,scene:ke,controls:je,sphere:o,stars:r,starsF:s};d.add(te({...p,asteroid:e,fragments:t})),d.call(P),d.add(ce({...p,comet:a,grid:i})),d.call(P),d.add(function({sphere:e,camPlatform:t,scene:o,stars:a,starsF:i,controls:r,camera:s}){a.material.uniforms.center.value=e.position;const c={depth:0,op:1,sc:.1,radius:30};let d=[];const p=()=>{if(d.length>70){let e=d[0];d.shift(),e.position.copy(P[P.length-1]),d.push(e),e.spawnEffect()}else{const e=Pe(1,o,s);d.push(e),e.position.copy(P[P.length-1]),o.add(e),e.spawnEffect()}},m=window.innerWidth,u=window.innerHeight,v=m/2,f=u/2,y=(e,t)=>-(e>t?-(e-t)/t:1-e/t),x={y:0,x:0},g=e=>{n.ZP.to(x,{y:y(e.clientY,f),x:y(e.clientX,v),duration:.2,ease:"linear"})};let h=0,w=0,P=[];const b=()=>{const e=P[P.length-1].distanceTo(P[P.length-2]);w+=e,w>6&&(p(),w=0)},z=()=>{h++;const e=c.depth,t=13*x.y+Math.cos(c.sc*h)*c.radius,o=13*-x.x+Math.sin(c.sc*h)*c.radius,n=new l.Pa4(e,t,o);P.push(n)},A=n.ZP.timeline({defaults:{ease:"linear"}});return A.call((()=>{n.ZP.set(t.proxypos,{x:-18,y:8,z:13}),r.enabled=!1})).to(e.position,6,{x:150,y:0,z:0,ease:"power4.in"}).to(t.proxypos,6,{x:68,y:8,z:13,ease:"power4.in",onUpdate:t.updPos},0).to(c,3,{radius:20,ease:"expo.in"},0).to(c,6,{sc:.02,depth:340,onUpdate:()=>{z(),P.length>1?b():p()},onComplete:()=>P.splice(0,Math.min(P.length/2,P.length-160))},0).to(c,{onStart:()=>{r.enabled=!0,document.addEventListener("mousemove",g)},depth:1700,duration:30,onUpdate:()=>{z(),b();const o=P.shift();e.position.set(o.x+4,o.y+4,o.z+4),t.proxypos.set(e.position.x-17,e.position.y+18*x.y/2,e.position.z+13*x.x/2),t.updPos()},onComplete:()=>{document.removeEventListener("mousemove",g)}},6).to(e.position,2,{x:e.position.x+500,onComplete:()=>d.forEach((e=>e.selfrem()))},"preEnterScene4").to(t.proxypos,2,{x:e.position.x+490,onUpdate:t.updPos},"preEnterScene4").to(e.position,5,{x:0,y:0,z:0},"enterScene4").to(t.proxypos,5,{x:10,y:5,z:10,onUpdate:t.updPos},"enterScene4"),A}({...p})),d.call(P),d.add(be({...p,platform2:c})),d.call(P)}},679:(e,t,o)=>{"use strict";o.d(t,{Z:()=>i});var n=o(705),a=o.n(n)()((function(e){return e[1]}));a.push([e.id,"body{margin:0;padding:0;background:#000}.loader{position:absolute;height:100vh;width:100vw;display:flex;background:#000}",""]);const i=a},148:e=>{e.exports="varying vec2 vUv;\nvarying vec3 vPos;\nuniform sampler2D uTex;\nuniform float time;\n#define B vec3(0.2, 0.2, 1.0)\r\nvoid main() {\n\tvec2 uv = vUv;\n\tuv += time;\n\tuv = fract(uv);\n\tvec2 uv2 = vUv;\n\tuv2 -= (time + 2.2);\n\tuv2 = fract(uv2);\n\tvec4 tex = texture2D(uTex, uv) * texture2D(uTex, uv2);\n\ttex *= vec4(B, 10.0);\n\ttex *= vec4(1200.0);\n\tgl_FragColor = tex;\n}\n"},463:e=>{e.exports="varying vec2 vUv;\nvarying vec3 vPos;\nvoid main() {\n\tvUv = uv;\n\tvPos = position;\n\tvec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n\tgl_Position = projectionMatrix * mvPosition;\n}\n"},598:e=>{e.exports="uniform sampler2D tex;\n#define B vec4(0.0, 0.1, 1.0, 1.0)\r\nvoid main() {\n\tvec2 uv = gl_PointCoord.xy;\n\tvec4 fc = texture2D(tex, uv);\n\tfc *= vec4(1.0);\n\tfc *= B;\n\tgl_FragColor = fc;\n}\n"},471:e=>{e.exports="uniform float time;\nuniform vec3 center;\nattribute float mass;\nvarying float vDistance;\nvoid main() {\n\tvec3 pos = center + position;\n\tvec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n\tfloat dd = 1.0 + (distance(mvPosition.xyz, pos) / 10.0);\n\tgl_PointSize = (1500.0 / dd) * mass;\n\tgl_Position = projectionMatrix * mvPosition;\n}\n"},403:e=>{e.exports="uniform sampler2D tex;\nvarying float vDistance;\n#define FC vec3(1.0, 0.8, 0.1)\r\nvoid main() {\n\tvec2 uv = gl_PointCoord.xy;\n\tfloat d = 1.0 / (1.0 + vDistance);\n\td = pow(d, 2.0);\n\tgl_FragColor = texture2D(tex, uv) * vec4(FC, d);\n}\n"},256:e=>{e.exports="uniform float time;\nuniform vec3 groundzero;\nattribute float mass;\nattribute vec3 velocity;\nvarying float vDistance;\nvoid main() {\n\tvec3 pos = position;\n\tpos += (((velocity * time) * 600.0) * (1.0 - mass));\n\tvec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n\tfloat dist = distance(pos, groundzero);\n\tvDistance = dist;\n\tfloat d = 1.0 / (1.0 + dist);\n\tgl_PointSize = ((time * 500.0) * mass) * pow(d, 2.0);\n\tif (dist < 1.0) {\n\t\tgl_PointSize *= 0.01;\n\t}\n\tgl_Position = projectionMatrix * mvPosition;\n}\n"},139:e=>{e.exports="varying vec2 vUv;\nuniform float utime;\nvoid main() {\n\tvec2 uv = vUv;\n\tfloat f = 1.0 - distance(0.5, uv.y);\n\tfloat time = cos(utime);\n\tf = pow(f, 25.0 / clamp(1.0 - cos(utime), 0.1, 1.0));\n\tfloat tf = f * (1.0 - cos(utime));\n\tvec3 color = vec3(tf);\n\tgl_FragColor = vec4(color, tf * sin(0.5 + utime));\n}\n"},872:e=>{e.exports="varying vec2 vUv;\nvoid main() {\n\tvUv = uv;\n\tvec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n\tgl_Position = projectionMatrix * mvPosition;\n}\n"},562:e=>{e.exports="uniform float time;\nuniform sampler2D uTexture;\nvarying vec3 vPosition;\nvarying float ol;\n#define B vec3(0.2, 0.2, 1.0)\r\nvoid main() {\n\tvec2 uv = gl_PointCoord.xy;\n\tfloat ot = time + ol;\n\tfloat otc = cos(ot);\n\tfloat y = sin(((vPosition.x + vPosition.y) + vPosition.z) + ot);\n\tfloat z = cos(time + ((vPosition.x * vPosition.y) / vPosition.z)) - (1.0 - otc);\n\tvec3 color = vec3(otc, y, z);\n\tcolor = mix(color, B, 0.9);\n\tgl_FragColor = vec4(color, otc) * texture2D(uTexture, uv);\n}\n"},333:e=>{e.exports="varying vec3 vPosition;\nvarying float ol;\nattribute float mass;\nattribute float light;\nuniform vec3 center;\nconst float D = RAD * 2.0;\nfloat dr(float x, float z) {\n\tfloat mp = x > z ? -1.0 : 1.0;\n\tz += (RAD * mp);\n\tfloat dx = distance(x, z);\n\tfloat n = floor(dx / D) * D;\n\tx += (n * mp);\n\treturn x;\n}\nvec3 dr(vec3 x, vec3 y) {\n\treturn vec3(dr(x.x, y.x), dr(x.y, y.y), dr(x.z, y.z));\n}\nvoid main() {\n\tvec3 pos = dr(position, center);\n\tol = light;\n\tvPosition = position;\n\tvec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n\tgl_PointSize = 70.0 * mass;\n\tgl_Position = projectionMatrix * mvPosition;\n}\n"},191:e=>{e.exports="void main() {\n\tgl_FragColor = vec4(vec3(1.), 1.);\n}\n"},692:e=>{e.exports="uniform vec3 center;\nuniform float time;\nattribute float mass;\nconst float D = RAD * 2.0;\nfloat dr(float x, float z) {\n\tfloat mp = x > z ? -1.0 : 1.0;\n\tz += (RAD * mp);\n\tfloat dx = distance(x, z);\n\tfloat n = floor(dx / D) * D;\n\tx += (n * mp);\n\treturn x;\n}\nvec3 dr(vec3 x, vec3 y) {\n\treturn vec3(dr(x.x, y.x), dr(x.y, y.y), dr(x.z, y.z));\n}\nvoid main() {\n\tvec3 pos = position;\n\tpos.z += time;\n\tpos = dr(pos, center);\n\tvec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n\tgl_PointSize = 2.0 * mass;\n\tgl_Position = projectionMatrix * mvPosition;\n}\n"},35:e=>{e.exports="uniform sampler2D utex;\nvarying float vLifetime;\nvarying vec3 vPos;\nvec2 rotateUV(vec2 uv, float rotation) {\n\tfloat mid = 0.5;\n\treturn vec2(((cos(rotation) * (uv.x - mid)) + (sin(rotation) * (uv.y - mid))) + mid, ((cos(rotation) * (uv.y - mid)) - (sin(rotation) * (uv.x - mid))) + mid);\n}\nvoid main() {\n\tif (vLifetime < 1.0) {\n\t\tvec2 uv = gl_PointCoord.xy;\n\t\tfloat f = pow(1.0 - distance(uv, vec2(0.5)), 6.0);\n\t\tvec4 fc = texture2D(utex, rotateUV(uv, (vPos.y + vPos.x) + vPos.z));\n\t\tif (vLifetime > 0.0) {\n\t\t\tgl_FragColor = vec4(COLOR, 1.0 - vLifetime) * fc;\n\t\t\tgl_FragColor.w *= (1.0 - vLifetime);\n\t\t}\n\t\telse {\n\t\t\tgl_FragColor = vec4(0.0);\n\t\t}\n\t}\n\telse {\n\t\tdiscard;\n\t}\n}\n"},864:e=>{e.exports="attribute float mass;\nattribute float lifetime;\nuniform vec3 utarget;\nvarying vec3 vPos;\nvarying float vLifetime;\nvoid main() {\n\tvLifetime = lifetime;\n\tvPos = position;\n\tfloat dt = 1.0 - (distance(utarget, position) / 20.0);\n\tif (dt > 0.0) {\n\t\tgl_PointSize = ((1000.0 * mass) * (1.0 - vLifetime)) * dt;\n\t\tvec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n\t\tgl_PointSize *= (2.0 / -mvPosition.z);\n\t\tgl_Position = projectionMatrix * mvPosition;\n\t}\n}\n"}},o={};function n(e){var a=o[e];if(void 0!==a)return a.exports;var i=o[e]={id:e,exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,o,a,i)=>{if(!o){var r=1/0;for(c=0;c<e.length;c++){for(var[o,a,i]=e[c],s=!0,l=0;l<o.length;l++)(!1&i||r>=i)&&Object.keys(n.O).every((e=>n.O[e](o[l])))?o.splice(l--,1):(s=!1,i<r&&(r=i));s&&(e.splice(c--,1),t=a())}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,a,i]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={143:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var a,i,[r,s,l]=o,c=0;for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)var d=l(n);for(t&&t(o);c<r.length;c++)i=r[c],n.o(e,i)&&e[i]&&e[i][0](),e[r[c]]=0;return n.O(d)},o=self.webpackChunkouterspace_webpack=self.webpackChunkouterspace_webpack||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var a=n.O(void 0,[557,365,923,328],(()=>n(51)));a=n.O(a)})();