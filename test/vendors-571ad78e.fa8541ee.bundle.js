"use strict";(self.webpackChunkouterspace_webpack=self.webpackChunkouterspace_webpack||[]).push([[81],{924:(e,t,n)=>{function r(){let e=null,t=!1,n=null,r=null;function i(t,o){n(t,o),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}n.d(t,{C:()=>r})},343:(e,t,n)=>{function r(e,t){const n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);const n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){const e=r.get(t);return void((!e||e.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);const o=r.get(t);void 0===o?r.set(t,function(t,r){const i=t.array,o=t.usage,a=e.createBuffer();e.bindBuffer(r,a),e.bufferData(r,i,o),t.onUploadCallback();let s=5126;return i instanceof Float32Array?s=5126:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?t.isFloat16BufferAttribute?n?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:i instanceof Int16Array?s=5122:i instanceof Uint32Array?s=5125:i instanceof Int32Array?s=5124:i instanceof Int8Array?s=5120:(i instanceof Uint8Array||i instanceof Uint8ClampedArray)&&(s=5121),{buffer:a,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){const o=r.array,a=r.updateRange;e.bindBuffer(i,t),-1===a.count?e.bufferSubData(i,0,o):(n?e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1)}(o.buffer,t,i),o.version=t.version)}}}n.d(t,{b:()=>r})},7263:(e,t,n)=>{n.d(t,{a:()=>f});var r=n(1661),i=n(6724),o=n(4078),a=n(1621),s=n(3662),u=n(6454),c=n(5967),l=n(6682);function f(e,t,n,f,d){const m=new s.I(0);let p,b,g=0,x=null,_=0,v=null;function E(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,d)}return{getClearColor:function(){return m},setClearColor:function(e,t=1){m.set(e),g=t,E(m,g)},getClearAlpha:function(){return g},setClearAlpha:function(e){g=e,E(m,g)},render:function(n,s){let d=!1,h=!0===s.isScene?s.background:null;h&&h.isTexture&&(h=t.get(h));const A=e.xr,y=A.getSession&&A.getSession();y&&"additive"===y.environmentBlendMode&&(h=null),null===h?E(m,g):h&&h.isColor&&(E(h,1),d=!0),(e.autoClear||d)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),h&&(h.isCubeTexture||h.mapping===r.g8_)?(void 0===b&&(b=new u.K(new i.D(1,1,1),new a.j({name:"BackgroundCubeMaterial",uniforms:(0,l.dw)(c.V.cube.uniforms),vertexShader:c.V.cube.vertexShader,fragmentShader:c.V.cube.fragmentShader,side:r._Li,depthTest:!1,depthWrite:!1,fog:!1})),b.geometry.deleteAttribute("normal"),b.geometry.deleteAttribute("uv"),b.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(b.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),f.update(b)),b.material.uniforms.envMap.value=h,b.material.uniforms.flipEnvMap.value=h.isCubeTexture&&!1===h.isRenderTargetTexture?-1:1,x===h&&_===h.version&&v===e.toneMapping||(b.material.needsUpdate=!0,x=h,_=h.version,v=e.toneMapping),n.unshift(b,b.geometry,b.material,0,0,null)):h&&h.isTexture&&(void 0===p&&(p=new u.K(new o._(2,2),new a.j({name:"BackgroundMaterial",uniforms:(0,l.dw)(c.V.background.uniforms),vertexShader:c.V.background.vertexShader,fragmentShader:c.V.background.fragmentShader,side:r.Wl3,depthTest:!1,depthWrite:!1,fog:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),f.update(p)),p.material.uniforms.t2D.value=h,!0===h.matrixAutoUpdate&&h.updateMatrix(),p.material.uniforms.uvTransform.value.copy(h.matrix),x===h&&_===h.version&&v===e.toneMapping||(p.material.needsUpdate=!0,x=h,_=h.version,v=e.toneMapping),n.unshift(p,p.geometry,p.material,0,0,null))}}}},8498:(e,t,n)=>{function r(e,t,n,r){const i=e.getParameter(34921),o=r.isWebGL2?null:t.get("OES_vertex_array_object"),a=r.isWebGL2||null!==o,s={},u=d(null);let c=u;function l(t){return r.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function f(t){return r.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function d(e){const t=[],n=[],r=[];for(let e=0;e<i;e++)t[e]=0,n[e]=0,r[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function m(){const e=c.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function p(e){b(e,0)}function b(n,i){const o=c.newAttributes,a=c.enabledAttributes,s=c.attributeDivisors;if(o[n]=1,0===a[n]&&(e.enableVertexAttribArray(n),a[n]=1),s[n]!==i){(r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i}}function g(){const t=c.newAttributes,n=c.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function x(t,n,i,o,a,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,o,a,s):e.vertexAttribIPointer(t,n,i,a,s)}function _(){v(),c!==u&&(c=u,l(c.object))}function v(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(i,u,f,_,v){let E=!1;if(a){const t=function(t,n,i){const a=!0===i.wireframe;let u=s[t.id];void 0===u&&(u={},s[t.id]=u);let c=u[n.id];void 0===c&&(c={},u[n.id]=c);let l=c[a];void 0===l&&(l=d(r.isWebGL2?e.createVertexArray():o.createVertexArrayOES()),c[a]=l);return l}(_,f,u);c!==t&&(c=t,l(c.object)),E=function(e,t){const n=c.attributes,r=e.attributes;let i=0;for(const e in r){const t=n[e],o=r[e];if(void 0===t)return!0;if(t.attribute!==o)return!0;if(t.data!==o.data)return!0;i++}return c.attributesNum!==i||c.index!==t}(_,v),E&&function(e,t){const n={},r=e.attributes;let i=0;for(const e in r){const t=r[e],o={};o.attribute=t,t.data&&(o.data=t.data),n[e]=o,i++}c.attributes=n,c.attributesNum=i,c.index=t}(_,v)}else{const e=!0===u.wireframe;c.geometry===_.id&&c.program===f.id&&c.wireframe===e||(c.geometry=_.id,c.program=f.id,c.wireframe=e,E=!0)}!0===i.isInstancedMesh&&(E=!0),null!==v&&n.update(v,34963),E&&(!function(i,o,a,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;m();const u=s.attributes,c=a.getAttributes(),l=o.defaultAttributeValues;for(const t in c){const r=c[t];if(r.location>=0){let o=u[t];if(void 0===o&&("instanceMatrix"===t&&i.instanceMatrix&&(o=i.instanceMatrix),"instanceColor"===t&&i.instanceColor&&(o=i.instanceColor)),void 0!==o){const t=o.normalized,a=o.itemSize,u=n.get(o);if(void 0===u)continue;const c=u.buffer,l=u.type,f=u.bytesPerElement;if(o.isInterleavedBufferAttribute){const n=o.data,u=n.stride,d=o.offset;if(n&&n.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)b(r.location+e,n.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)}else for(let e=0;e<r.locationSize;e++)p(r.location+e);e.bindBuffer(34962,c);for(let e=0;e<r.locationSize;e++)x(r.location+e,a/r.locationSize,l,t,u*f,(d+a/r.locationSize*e)*f)}else{if(o.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)b(r.location+e,o.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=o.meshPerAttribute*o.count)}else for(let e=0;e<r.locationSize;e++)p(r.location+e);e.bindBuffer(34962,c);for(let e=0;e<r.locationSize;e++)x(r.location+e,a/r.locationSize,l,t,a*f,a/r.locationSize*e*f)}}else if(void 0!==l){const n=l[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(r.location,n);break;case 3:e.vertexAttrib3fv(r.location,n);break;case 4:e.vertexAttrib4fv(r.location,n);break;default:e.vertexAttrib1fv(r.location,n)}}}}g()}(i,u,f,_),null!==v&&e.bindBuffer(34963,n.get(v).buffer))},reset:_,resetDefaultState:v,dispose:function(){_();for(const e in s){const t=s[e];for(const e in t){const n=t[e];for(const e in n)f(n[e].object),delete n[e];delete t[e]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0===s[e.id])return;const t=s[e.id];for(const e in t){const n=t[e];for(const e in n)f(n[e].object),delete n[e];delete t[e]}delete s[e.id]},releaseStatesOfProgram:function(e){for(const t in s){const n=s[t];if(void 0===n[e.id])continue;const r=n[e.id];for(const e in r)f(r[e].object),delete r[e];delete n[e.id]}},initAttributes:m,enableAttribute:p,disableUnusedAttributes:g}}n.d(t,{s:()=>r})},6355:(e,t,n)=>{function r(e,t,n,r){const i=r.isWebGL2;let o;this.setMode=function(e){o=e},this.render=function(t,r){e.drawArrays(o,t,r),n.update(r,o,1)},this.renderInstances=function(r,a,s){if(0===s)return;let u,c;if(i)u=e,c="drawArraysInstanced";else if(u=t.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===u)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[c](o,r,a,s),n.update(a,o,s)}}n.d(t,{w:()=>r})},4542:(e,t,n)=>{function r(e,t,n){let r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext;let a=void 0!==n.precision?n.precision:"highp";const s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);const u=o||t.has("WEBGL_draw_buffers"),c=!0===n.logarithmicDepthBuffer,l=e.getParameter(34930),f=e.getParameter(35660),d=e.getParameter(3379),m=e.getParameter(34076),p=e.getParameter(34921),b=e.getParameter(36347),g=e.getParameter(36348),x=e.getParameter(36349),_=f>0,v=o||t.has("OES_texture_float");return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:c,maxTextures:l,maxVertexTextures:f,maxTextureSize:d,maxCubemapSize:m,maxAttributes:p,maxVertexUniforms:b,maxVaryings:g,maxFragmentUniforms:x,vertexTextures:_,floatFragmentTextures:v,floatVertexTextures:_&&v,maxSamples:o?e.getParameter(36183):0}}n.d(t,{G:()=>r})},886:(e,t,n)=>{n.d(t,{h:()=>o});var r=n(1273),i=n(1158);function o(e){const t=this;let n=null,o=0,a=!1,s=!1;const u=new i.J,c=new r.V,l={value:null,needsUpdate:!1};function f(){l.value!==n&&(l.value=n,l.needsUpdate=o>0),t.numPlanes=o,t.numIntersection=0}function d(e,n,r,i){const o=null!==e?e.length:0;let a=null;if(0!==o){if(a=l.value,!0!==i||null===a){const t=r+4*o,i=n.matrixWorldInverse;c.getNormalMatrix(i),(null===a||a.length<t)&&(a=new Float32Array(t));for(let t=0,n=r;t!==o;++t,n+=4)u.copy(e[t]).applyMatrix4(i,c),u.normal.toArray(a,n),a[n+3]=u.constant}l.value=a,l.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,a}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,r){const i=0!==e.length||t||0!==o||a;return a=t,n=d(e,r,0),o=e.length,i},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1,f()},this.setState=function(t,r,i){const u=t.clippingPlanes,c=t.clipIntersection,m=t.clipShadows,p=e.get(t);if(!a||null===u||0===u.length||s&&!m)s?d(null):f();else{const e=s?0:o,t=4*e;let a=p.clippingState||null;l.value=a,a=d(u,r,t,i);for(let e=0;e!==t;++e)a[e]=n[e];p.clippingState=a,this.numIntersection=c?this.numPlanes:0,this.numPlanes+=e}}}},3886:(e,t,n)=>{n.d(t,{S:()=>o});var r=n(1661),i=n(8277);function o(e){let t=new WeakMap;function n(e,t){return t===r.dSO?e.mapping=r.fY$:t===r.Bf4&&(e.mapping=r.vxC),e}function o(e){const n=e.target;n.removeEventListener("dispose",o);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(a){if(a&&a.isTexture&&!1===a.isRenderTargetTexture){const s=a.mapping;if(s===r.dSO||s===r.Bf4){if(t.has(a)){return n(t.get(a).texture,a.mapping)}{const r=a.image;if(r&&r.height>0){const s=e.getRenderTarget(),u=new i.o(r.height/2);return u.fromEquirectangularTexture(e,a),t.set(a,u),e.setRenderTarget(s),a.addEventListener("dispose",o),n(u.texture,a.mapping)}return null}}}return a},dispose:function(){t=new WeakMap}}}},8198:(e,t,n)=>{n.d(t,{W:()=>o});var r=n(1661),i=n(7411);function o(e){let t=new WeakMap,n=null;function o(e){const n=e.target;n.removeEventListener("dispose",o);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(a){if(a&&a.isTexture&&!1===a.isRenderTargetTexture){const s=a.mapping,u=s===r.dSO||s===r.Bf4,c=s===r.fY$||s===r.vxC;if(u||c){if(t.has(a))return t.get(a).texture;{const r=a.image;if(u&&r&&r.height>0||c&&r&&function(e){let t=0;const n=6;for(let r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(r)){const r=e.getRenderTarget();null===n&&(n=new i.a(e));const s=u?n.fromEquirectangular(a):n.fromCubemap(a);return t.set(a,s),e.setRenderTarget(r),a.addEventListener("dispose",o),s.texture}return null}}}return a},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}},4959:(e,t,n)=>{function r(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){const t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}n.d(t,{P:()=>r})},5007:(e,t,n)=>{n.d(t,{Y:()=>o});var r=n(140),i=n(392);function o(e,t,n,o){const a={},s=new WeakMap;function u(e){const r=e.target;null!==r.index&&t.remove(r.index);for(const e in r.attributes)t.remove(r.attributes[e]);r.removeEventListener("dispose",u),delete a[r.id];const i=s.get(r);i&&(t.remove(i),s.delete(r)),o.releaseStatesOfGeometry(r),!0===r.isInstancedBufferGeometry&&delete r._maxInstanceCount,n.memory.geometries--}function c(e){const n=[],o=e.index,a=e.attributes.position;let u=0;if(null!==o){const e=o.array;u=o.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],o=e[t+2];n.push(r,i,i,o,o,r)}}else{const e=a.array;u=a.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}const c=new((0,i.uH)(n)>65535?r.lC:r.ql)(n,1);c.version=u;const l=s.get(e);l&&t.remove(l),s.set(e,c)}return{get:function(e,t){return!0===a[t.id]||(t.addEventListener("dispose",u),a[t.id]=!0,n.memory.geometries++),t},update:function(e){const n=e.attributes;for(const e in n)t.update(n[e],34962);const r=e.morphAttributes;for(const e in r){const n=r[e];for(let e=0,r=n.length;e<r;e++)t.update(n[e],34962)}},getWireframeAttribute:function(e){const t=s.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&c(e)}else c(e);return s.get(e)}}}},907:(e,t,n)=>{function r(e,t,n,r){const i=r.isWebGL2;let o,a,s;this.setMode=function(e){o=e},this.setIndex=function(e){a=e.type,s=e.bytesPerElement},this.render=function(t,r){e.drawElements(o,r,a,t*s),n.update(r,o,1)},this.renderInstances=function(r,u,c){if(0===c)return;let l,f;if(i)l=e,f="drawElementsInstanced";else if(l=t.get("ANGLE_instanced_arrays"),f="drawElementsInstancedANGLE",null===l)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[f](o,u,a,r*s,c),n.update(u,o,c)}}n.d(t,{x:()=>r})}}]);