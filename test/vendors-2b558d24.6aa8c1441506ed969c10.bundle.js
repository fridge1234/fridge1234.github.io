"use strict";(self.webpackChunkouterspace_webpack=self.webpackChunkouterspace_webpack||[]).push([[78],{140:(t,e,i)=>{i.d(e,{a$:()=>d,lC:()=>p,ql:()=>c,Tl:()=>u});var s=i(223),r=i(6881),n=i(1138),a=i(3662),o=i(1661);const h=new r.P,l=new n.F;class u{constructor(t,e,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===i,this.usage=o.W2J,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[t+s]=e.array[i+s];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const e=this.array;let i=0;for(let s=0,r=t.length;s<r;s++){let r=t[s];void 0===r&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",s),r=new a.I),e[i++]=r.r,e[i++]=r.g,e[i++]=r.b}return this}copyVector2sArray(t){const e=this.array;let i=0;for(let s=0,r=t.length;s<r;s++){let r=t[s];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",s),r=new n.F),e[i++]=r.x,e[i++]=r.y}return this}copyVector3sArray(t){const e=this.array;let i=0;for(let s=0,n=t.length;s<n;s++){let n=t[s];void 0===n&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",s),n=new r.P),e[i++]=n.x,e[i++]=n.y,e[i++]=n.z}return this}copyVector4sArray(t){const e=this.array;let i=0;for(let r=0,n=t.length;r<n;r++){let n=t[r];void 0===n&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),n=new s.L),e[i++]=n.x,e[i++]=n.y,e[i++]=n.z,e[i++]=n.w}return this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,i=this.count;e<i;e++)l.fromBufferAttribute(this,e),l.applyMatrix3(t),this.setXY(e,l.x,l.y);else if(3===this.itemSize)for(let e=0,i=this.count;e<i;e++)h.fromBufferAttribute(this,e),h.applyMatrix3(t),this.setXYZ(e,h.x,h.y,h.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)h.x=this.getX(e),h.y=this.getY(e),h.z=this.getZ(e),h.applyMatrix4(t),this.setXYZ(e,h.x,h.y,h.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)h.x=this.getX(e),h.y=this.getY(e),h.z=this.getZ(e),h.applyNormalMatrix(t),this.setXYZ(e,h.x,h.y,h.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)h.x=this.getX(e),h.y=this.getY(e),h.z=this.getZ(e),h.transformDirection(t),this.setXYZ(e,h.x,h.y,h.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){return this.array[t*this.itemSize]}setX(t,e){return this.array[t*this.itemSize]=e,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,e){return this.array[t*this.itemSize+1]=e,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,e){return this.array[t*this.itemSize+2]=e,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,e){return this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,s){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this}setXYZW(t,e,i,s,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==o.W2J&&(t.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(t.updateRange=this.updateRange),t}}u.prototype.isBufferAttribute=!0;class c extends u{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class p extends u{constructor(t,e,i){super(new Uint32Array(t),e,i)}}(class extends u{constructor(t,e,i){super(new Uint16Array(t),e,i)}}).prototype.isFloat16BufferAttribute=!0;class d extends u{constructor(t,e,i){super(new Float32Array(t),e,i)}}},9046:(t,e,i)=>{i.d(e,{u:()=>w});var s=i(6881),r=i(1138),n=i(1898),a=i(7406),o=i(140),h=i(4699),l=i(6469),u=i(9203),c=i(1273),p=i(2043),d=i(392);let m=0;const g=new u.y,f=new l.T,y=new s.P,v=new n.Z,x=new n.Z,M=new s.P;class w extends a.p{constructor(){super(),Object.defineProperty(this,"id",{value:m++}),this.uuid=p.DO(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new((0,d.uH)(t)>65535?o.lC:o.ql)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const e=(new c.V).getNormalMatrix(t);i.applyNormalMatrix(e),i.needsUpdate=!0}const s=this.attributes.tangent;return void 0!==s&&(s.transformDirection(t),s.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return g.makeRotationFromQuaternion(t),this.applyMatrix4(g),this}rotateX(t){return g.makeRotationX(t),this.applyMatrix4(g),this}rotateY(t){return g.makeRotationY(t),this.applyMatrix4(g),this}rotateZ(t){return g.makeRotationZ(t),this.applyMatrix4(g),this}translate(t,e,i){return g.makeTranslation(t,e,i),this.applyMatrix4(g),this}scale(t,e,i){return g.makeScale(t,e,i),this.applyMatrix4(g),this}lookAt(t){return f.lookAt(t),f.updateMatrix(),this.applyMatrix4(f.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(y).negate(),this.translate(y.x,y.y,y.z),this}setFromPoints(t){const e=[];for(let i=0,s=t.length;i<s;i++){const s=t[i];e.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new o.a$(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new n.Z);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new s.P(-1/0,-1/0,-1/0),new s.P(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let t=0,i=e.length;t<i;t++){const i=e[t];v.setFromBufferAttribute(i),this.morphTargetsRelative?(M.addVectors(this.boundingBox.min,v.min),this.boundingBox.expandByPoint(M),M.addVectors(this.boundingBox.max,v.max),this.boundingBox.expandByPoint(M)):(this.boundingBox.expandByPoint(v.min),this.boundingBox.expandByPoint(v.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new h.a);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new s.P,1/0);if(t){const i=this.boundingSphere.center;if(v.setFromBufferAttribute(t),e)for(let t=0,i=e.length;t<i;t++){const i=e[t];x.setFromBufferAttribute(i),this.morphTargetsRelative?(M.addVectors(v.min,x.min),v.expandByPoint(M),M.addVectors(v.max,x.max),v.expandByPoint(M)):(v.expandByPoint(x.min),v.expandByPoint(x.max))}v.getCenter(i);let s=0;for(let e=0,r=t.count;e<r;e++)M.fromBufferAttribute(t,e),s=Math.max(s,i.distanceToSquared(M));if(e)for(let r=0,n=e.length;r<n;r++){const n=e[r],a=this.morphTargetsRelative;for(let e=0,r=n.count;e<r;e++)M.fromBufferAttribute(n,e),a&&(y.fromBufferAttribute(t,e),M.add(y)),s=Math.max(s,i.distanceToSquared(M))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=t.array,n=e.position.array,a=e.normal.array,h=e.uv.array,l=n.length/3;void 0===e.tangent&&this.setAttribute("tangent",new o.Tl(new Float32Array(4*l),4));const u=e.tangent.array,c=[],p=[];for(let t=0;t<l;t++)c[t]=new s.P,p[t]=new s.P;const d=new s.P,m=new s.P,g=new s.P,f=new r.F,y=new r.F,v=new r.F,x=new s.P,M=new s.P;function w(t,e,i){d.fromArray(n,3*t),m.fromArray(n,3*e),g.fromArray(n,3*i),f.fromArray(h,2*t),y.fromArray(h,2*e),v.fromArray(h,2*i),m.sub(d),g.sub(d),y.sub(f),v.sub(f);const s=1/(y.x*v.y-v.x*y.y);isFinite(s)&&(x.copy(m).multiplyScalar(v.y).addScaledVector(g,-y.y).multiplyScalar(s),M.copy(g).multiplyScalar(y.x).addScaledVector(m,-v.x).multiplyScalar(s),c[t].add(x),c[e].add(x),c[i].add(x),p[t].add(M),p[e].add(M),p[i].add(M))}let b=this.groups;0===b.length&&(b=[{start:0,count:i.length}]);for(let t=0,e=b.length;t<e;++t){const e=b[t],s=e.start;for(let t=s,r=s+e.count;t<r;t+=3)w(i[t+0],i[t+1],i[t+2])}const S=new s.P,A=new s.P,P=new s.P,T=new s.P;function O(t){P.fromArray(a,3*t),T.copy(P);const e=c[t];S.copy(e),S.sub(P.multiplyScalar(P.dot(e))).normalize(),A.crossVectors(T,e);const i=A.dot(p[t])<0?-1:1;u[4*t]=S.x,u[4*t+1]=S.y,u[4*t+2]=S.z,u[4*t+3]=i}for(let t=0,e=b.length;t<e;++t){const e=b[t],s=e.start;for(let t=s,r=s+e.count;t<r;t+=3)O(i[t+0]),O(i[t+1]),O(i[t+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let i=this.getAttribute("normal");if(void 0===i)i=new o.Tl(new Float32Array(3*e.count),3),this.setAttribute("normal",i);else for(let t=0,e=i.count;t<e;t++)i.setXYZ(t,0,0,0);const r=new s.P,n=new s.P,a=new s.P,h=new s.P,l=new s.P,u=new s.P,c=new s.P,p=new s.P;if(t)for(let s=0,o=t.count;s<o;s+=3){const o=t.getX(s+0),d=t.getX(s+1),m=t.getX(s+2);r.fromBufferAttribute(e,o),n.fromBufferAttribute(e,d),a.fromBufferAttribute(e,m),c.subVectors(a,n),p.subVectors(r,n),c.cross(p),h.fromBufferAttribute(i,o),l.fromBufferAttribute(i,d),u.fromBufferAttribute(i,m),h.add(c),l.add(c),u.add(c),i.setXYZ(o,h.x,h.y,h.z),i.setXYZ(d,l.x,l.y,l.z),i.setXYZ(m,u.x,u.y,u.z)}else for(let t=0,s=e.count;t<s;t+=3)r.fromBufferAttribute(e,t+0),n.fromBufferAttribute(e,t+1),a.fromBufferAttribute(e,t+2),c.subVectors(a,n),p.subVectors(r,n),c.cross(p),i.setXYZ(t+0,c.x,c.y,c.z),i.setXYZ(t+1,c.x,c.y,c.z),i.setXYZ(t+2,c.x,c.y,c.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const s in i){if(void 0===t.attributes[s])continue;const r=i[s].array,n=t.attributes[s],a=n.array,o=n.itemSize*e,h=Math.min(a.length,r.length-o);for(let t=0,e=o;t<h;t++,e++)r[e]=a[t]}return this}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)M.fromBufferAttribute(t,e),M.normalize(),t.setXYZ(e,M.x,M.y,M.z)}toNonIndexed(){function t(t,e){const i=t.array,s=t.itemSize,r=t.normalized,n=new i.constructor(e.length*s);let a=0,h=0;for(let r=0,o=e.length;r<o;r++){a=t.isInterleavedBufferAttribute?e[r]*t.data.stride+t.offset:e[r]*s;for(let t=0;t<s;t++)n[h++]=i[a++]}return new o.Tl(n,s,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new w,i=this.index.array,s=this.attributes;for(const r in s){const n=t(s[r],i);e.setAttribute(r,n)}const r=this.morphAttributes;for(const s in r){const n=[],a=r[s];for(let e=0,s=a.length;e<s;e++){const s=t(a[e],i);n.push(s)}e.morphAttributes[s]=n}e.morphTargetsRelative=this.morphTargetsRelative;const n=this.groups;for(let t=0,i=n.length;t<i;t++){const i=n[t];e.addGroup(i.start,i.count,i.materialIndex)}return e}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const e in i){const s=i[e];t.data.attributes[e]=s.toJSON(t.data)}const s={};let r=!1;for(const e in this.morphAttributes){const i=this.morphAttributes[e],n=[];for(let e=0,s=i.length;e<s;e++){const s=i[e];n.push(s.toJSON(t.data))}n.length>0&&(s[e]=n,r=!0)}r&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);const n=this.groups;n.length>0&&(t.data.groups=JSON.parse(JSON.stringify(n)));const a=this.boundingSphere;return null!==a&&(t.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;null!==i&&this.setIndex(i.clone(e));const s=t.attributes;for(const t in s){const i=s[t];this.setAttribute(t,i.clone(e))}const r=t.morphAttributes;for(const t in r){const i=[],s=r[t];for(let t=0,r=s.length;t<r;t++)i.push(s[t].clone(e));this.morphAttributes[t]=i}this.morphTargetsRelative=t.morphTargetsRelative;const n=t.groups;for(let t=0,e=n.length;t<e;t++){const e=n[t];this.addGroup(e.start,e.count,e.materialIndex)}const a=t.boundingBox;null!==a&&(this.boundingBox=a.clone());const o=t.boundingSphere;return null!==o&&(this.boundingSphere=o.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,void 0!==t.parameters&&(this.parameters=Object.assign({},t.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}w.prototype.isBufferGeometry=!0},7406:(t,e,i)=>{i.d(e,{p:()=>s});class s{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const i=this._listeners[t];if(void 0!==i){const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const i=e.slice(0);for(let e=0,s=i.length;e<s;e++)i[e].call(this,t);t.target=null}}}},6469:(t,e,i)=>{i.d(e,{T:()=>A});var s=i(7092),r=i(6881),n=i(9203),a=i(7406),o=i(2903);class h{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}isEnabled(t){return 0!=(this.mask&(1<<t|0))}}var l=i(1273),u=i(2043);let c=0;const p=new r.P,d=new s._,m=new n.y,g=new r.P,f=new r.P,y=new r.P,v=new s._,x=new r.P(1,0,0),M=new r.P(0,1,0),w=new r.P(0,0,1),b={type:"added"},S={type:"removed"};class A extends a.p{constructor(){super(),Object.defineProperty(this,"id",{value:c++}),this.uuid=u.DO(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=A.DefaultUp.clone();const t=new r.P,e=new o.U,i=new s._,a=new r.P(1,1,1);e._onChange((function(){i.setFromEuler(e,!1)})),i._onChange((function(){e.setFromQuaternion(i,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new n.y},normalMatrix:{value:new l.V}}),this.matrix=new n.y,this.matrixWorld=new n.y,this.matrixAutoUpdate=A.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new h,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return d.setFromAxisAngle(t,e),this.quaternion.multiply(d),this}rotateOnWorldAxis(t,e){return d.setFromAxisAngle(t,e),this.quaternion.premultiply(d),this}rotateX(t){return this.rotateOnAxis(x,t)}rotateY(t){return this.rotateOnAxis(M,t)}rotateZ(t){return this.rotateOnAxis(w,t)}translateOnAxis(t,e){return p.copy(t).applyQuaternion(this.quaternion),this.position.add(p.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(x,t)}translateY(t){return this.translateOnAxis(M,t)}translateZ(t){return this.translateOnAxis(w,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(m.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?g.copy(t):g.set(t,e,i);const s=this.parent;this.updateWorldMatrix(!0,!1),f.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?m.lookAt(f,g,this.up):m.lookAt(g,f,this.up),this.quaternion.setFromRotationMatrix(m),s&&(m.extractRotation(s.matrixWorld),d.setFromRotationMatrix(m),this.quaternion.premultiply(d.invert()))}add(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(b)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(S)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(S)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),m.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),m.multiply(t.parent.matrixWorld)),t.applyMatrix4(m),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,s=this.children.length;i<s;i++){const s=this.children[i].getObjectByProperty(t,e);if(void 0!==s)return s}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(f,t,y),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(f,v,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,i=t.length;e<i;e++)t[e].updateWorldMatrix(!1,!0)}}toJSON(t){const e=void 0===t||"string"==typeof t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const s={};function r(e,i){return void 0===e[i.uuid]&&(e[i.uuid]=i.toJSON(t)),i.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=r(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const i=e.shapes;if(Array.isArray(i))for(let e=0,s=i.length;e<s;e++){const s=i[e];r(t.shapes,s)}else r(t.shapes,i)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let i=0,s=this.material.length;i<s;i++)e.push(r(t.materials,this.material[i]));s.material=e}else s.material=r(t.materials,this.material);if(this.children.length>0){s.children=[];for(let e=0;e<this.children.length;e++)s.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let e=0;e<this.animations.length;e++){const i=this.animations[e];s.animations.push(r(t.animations,i))}}if(e){const e=n(t.geometries),s=n(t.materials),r=n(t.textures),a=n(t.images),o=n(t.shapes),h=n(t.skeletons),l=n(t.animations);e.length>0&&(i.geometries=e),s.length>0&&(i.materials=s),r.length>0&&(i.textures=r),a.length>0&&(i.images=a),o.length>0&&(i.shapes=o),h.length>0&&(i.skeletons=h),l.length>0&&(i.animations=l)}return i.object=s,i;function n(t){const e=[];for(const i in t){const s=t[i];delete s.metadata,e.push(s)}return e}}clone(t){return(new this.constructor).copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let e=0;e<t.children.length;e++){const i=t.children[e];this.add(i.clone())}return this}}A.DefaultUp=new r.P(0,1,0),A.DefaultMatrixAutoUpdate=!0,A.prototype.isObject3D=!0},5006:(t,e,i)=>{i.d(e,{P:()=>n});var s=i(392);let r;class n{static getDataURL(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===r&&(r=(0,s.c)("canvas")),r.width=t.width,r.height=t.height;const i=r.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=r}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}}},7411:(t,e,i)=>{i.d(e,{a:()=>N});var s=i(1661),r=i(140),n=i(9046),a=i(6454),o=i(3131),h=i(1051),l=i(1621);class u extends l.j{constructor(t){super(t),this.type="RawShaderMaterial"}}u.prototype.isRawShaderMaterial=!0;var c=i(1138),p=i(6881),d=i(3662),m=i(4302),g=i(6173),f=i(6724);const y=Math.pow(2,8),v=[.125,.215,.35,.446,.526,.582],x=5+v.length,M=20,w={[s.rnI]:0,[s.knz]:1,[s.KC9]:2,[s.LgE]:3,[s.Inb]:4,[s.gMp]:5,[s.pMV]:6},b=new o.i,{_lodPlanes:S,_sizeLods:A,_sigmas:P}=_(),T=new d.I;let O=null;const C=(1+Math.sqrt(5))/2,R=1/C,z=[new p.P(1,1,1),new p.P(-1,1,1),new p.P(1,1,-1),new p.P(-1,1,-1),new p.P(0,C,R),new p.P(0,C,-R),new p.P(R,0,C),new p.P(-R,0,C),new p.P(C,R,0),new p.P(-C,R,0)];class N{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=function(t){const e=new Float32Array(t),i=new p.P(0,1,0);return new u({name:"SphericalGaussianBlur",defines:{n:t},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i},inputEncoding:{value:w[s.rnI]},outputEncoding:{value:w[s.rnI]}},vertexShader:I(),fragmentShader:`precision mediump float;precision mediump int;varying vec3 vOutputDirection;uniform sampler2D envMap;uniform int samples;uniform float weights[n];uniform bool latitudinal;uniform float dTheta;uniform float mipInt;uniform vec3 poleAxis;\n${k()}\n#define ENVMAP_TYPE_CUBE_UV\n#include <cube_uv_reflection_fragment>\nvec3 getSample(float theta,vec3 axis){float cosTheta=cos(theta);vec3 sampleDirection=vOutputDirection*cosTheta+cross(axis,vOutputDirection)*sin(theta)+axis*dot(axis,vOutputDirection)*(1.0-cosTheta);return bilinearCubeUV(envMap,sampleDirection,mipInt);}void main(){vec3 axis=latitudinal?poleAxis:cross(poleAxis,vOutputDirection);if(all(equal(axis,vec3(0.0)))){axis=vec3(vOutputDirection.z,0.0,-vOutputDirection.x);}axis=normalize(axis);gl_FragColor=vec4(0.0,0.0,0.0,1.0);gl_FragColor.rgb+=weights[0]*getSample(0.0,axis);for(int i=1;i<n;i++){if(i>=samples){break;}float theta=dTheta*float(i);gl_FragColor.rgb+=weights[i]*getSample(-1.0*theta,axis);gl_FragColor.rgb+=weights[i]*getSample(theta,axis);}gl_FragColor=linearToOutputTexel(gl_FragColor);}`,blending:s.jFi,depthTest:!1,depthWrite:!1})}(M),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,s=100){O=this._renderer.getRenderTarget();const r=this._allocateTargets();return this._sceneToCubeUV(t,i,s,r),e>0&&this._blur(r,0,0,e),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(t){return this._fromTexture(t)}fromCubemap(t){return this._fromTexture(t)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=D(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=F(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let t=0;t<S.length;t++)S[t].dispose()}_cleanup(t){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(O),t.scissorTest=!1,L(t,0,0,t.width,t.height)}_fromTexture(t){O=this._renderer.getRenderTarget();const e=this._allocateTargets(t);return this._textureToCubeUV(t,e),this._applyPMREM(e),this._cleanup(e),e}_allocateTargets(t){const e={magFilter:s.TyD,minFilter:s.TyD,generateMipmaps:!1,type:s.ywz,format:s.aoB,encoding:B(t)?t.encoding:s.KC9,depthBuffer:!1},i=E(e);return i.depthBuffer=!t,this._pingPongRenderTarget=E(e),i}_compileMaterial(t){const e=new a.K(S[0],t);this._renderer.compile(e,b)}_sceneToCubeUV(t,e,i,r){const n=new h.c(90,1,e,i),o=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],u=this._renderer,c=u.autoClear,p=u.outputEncoding,d=u.toneMapping;u.getClearColor(T),u.toneMapping=s.uL9,u.outputEncoding=s.rnI,u.autoClear=!1;const m=new g.v({name:"PMREM.Background",side:s._Li,depthWrite:!1,depthTest:!1}),v=new a.K(new f.D,m);let x=!1;const M=t.background;M?M.isColor&&(m.color.copy(M),t.background=null,x=!0):(m.color.copy(T),x=!0);for(let e=0;e<6;e++){const i=e%3;0==i?(n.up.set(0,o[e],0),n.lookAt(l[e],0,0)):1==i?(n.up.set(0,0,o[e]),n.lookAt(0,l[e],0)):(n.up.set(0,o[e],0),n.lookAt(0,0,l[e])),L(r,i*y,e>2?y:0,y,y),u.setRenderTarget(r),x&&u.render(v,n),u.render(t,n)}v.geometry.dispose(),v.material.dispose(),u.toneMapping=d,u.outputEncoding=p,u.autoClear=c,t.background=M}_setEncoding(t,e){t.value=w[e.encoding]}_textureToCubeUV(t,e){const i=this._renderer,r=t.mapping===s.fY$||t.mapping===s.vxC;r?null==this._cubemapShader&&(this._cubemapShader=D()):null==this._equirectShader&&(this._equirectShader=F());const n=r?this._cubemapShader:this._equirectShader,o=new a.K(S[0],n),h=n.uniforms;h.envMap.value=t,r||h.texelSize.value.set(1/t.image.width,1/t.image.height),this._setEncoding(h.inputEncoding,t),this._setEncoding(h.outputEncoding,e.texture),L(e,0,0,3*y,2*y),i.setRenderTarget(e),i.render(o,b)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;for(let e=1;e<x;e++){const i=Math.sqrt(P[e]*P[e]-P[e-1]*P[e-1]),s=z[(e-1)%z.length];this._blur(t,e-1,e,i,s)}e.autoClear=i}_blur(t,e,i,s,r){const n=this._pingPongRenderTarget;this._halfBlur(t,n,e,i,s,"latitudinal",r),this._halfBlur(n,t,i,i,s,"longitudinal",r)}_halfBlur(t,e,i,s,r,n,o){const h=this._renderer,l=this._blurMaterial;"latitudinal"!==n&&"longitudinal"!==n&&console.error("blur direction must be either latitudinal or longitudinal!");const u=new a.K(S[s],l),c=l.uniforms,p=A[i]-1,d=isFinite(r)?Math.PI/(2*p):2*Math.PI/39,m=r/d,g=isFinite(r)?1+Math.floor(3*m):M;g>M&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${g} samples when the maximum is set to 20`);const f=[];let v=0;for(let t=0;t<M;++t){const e=t/m,i=Math.exp(-e*e/2);f.push(i),0==t?v+=i:t<g&&(v+=2*i)}for(let t=0;t<f.length;t++)f[t]=f[t]/v;c.envMap.value=t.texture,c.samples.value=g,c.weights.value=f,c.latitudinal.value="latitudinal"===n,o&&(c.poleAxis.value=o),c.dTheta.value=d,c.mipInt.value=8-i,this._setEncoding(c.inputEncoding,t.texture),this._setEncoding(c.outputEncoding,t.texture);const x=A[s];L(e,3*Math.max(0,y-2*x),(0===s?0:2*y)+2*x*(s>4?s-8+4:0),3*x,2*x),h.setRenderTarget(e),h.render(u,b)}}function B(t){return void 0!==t&&t.type===s.ywz&&(t.encoding===s.rnI||t.encoding===s.knz||t.encoding===s.pMV)}function _(){const t=[],e=[],i=[];let s=8;for(let a=0;a<x;a++){const o=Math.pow(2,s);e.push(o);let h=1/o;a>4?h=v[a-8+4-1]:0==a&&(h=0),i.push(h);const l=1/(o-1),u=-l/2,c=1+l/2,p=[u,u,c,u,c,c,u,u,c,c,u,c],d=6,m=6,g=3,f=2,y=1,x=new Float32Array(g*m*d),M=new Float32Array(f*m*d),w=new Float32Array(y*m*d);for(let t=0;t<d;t++){const e=t%3*2/3-1,i=t>2?0:-1,s=[e,i,0,e+2/3,i,0,e+2/3,i+1,0,e,i,0,e+2/3,i+1,0,e,i+1,0];x.set(s,g*m*t),M.set(p,f*m*t);const r=[t,t,t,t,t,t];w.set(r,y*m*t)}const b=new n.u;b.setAttribute("position",new r.Tl(x,g)),b.setAttribute("uv",new r.Tl(M,f)),b.setAttribute("faceIndex",new r.Tl(w,y)),t.push(b),s>4&&s--}return{_lodPlanes:t,_sizeLods:e,_sigmas:i}}function E(t){const e=new m.d(3*y,3*y,t);return e.texture.mapping=s.g8_,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function L(t,e,i,s,r){t.viewport.set(e,i,s,r),t.scissor.set(e,i,s,r)}function F(){const t=new c.F(1,1);return new u({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:t},inputEncoding:{value:w[s.rnI]},outputEncoding:{value:w[s.rnI]}},vertexShader:I(),fragmentShader:`precision mediump float;precision mediump int;varying vec3 vOutputDirection;uniform sampler2D envMap;uniform vec2 texelSize;\n${k()}\n#include <common>\nvoid main(){gl_FragColor=vec4(0.0,0.0,0.0,1.0);vec3 outputDirection=normalize(vOutputDirection);vec2 uv=equirectUv(outputDirection);vec2 f=fract(uv/texelSize-0.5);uv-=f*texelSize;vec3 tl=envMapTexelToLinear(texture2D(envMap,uv)).rgb;uv.x+=texelSize.x;vec3 tr=envMapTexelToLinear(texture2D(envMap,uv)).rgb;uv.y+=texelSize.y;vec3 br=envMapTexelToLinear(texture2D(envMap,uv)).rgb;uv.x-=texelSize.x;vec3 bl=envMapTexelToLinear(texture2D(envMap,uv)).rgb;vec3 tm=mix(tl,tr,f.x);vec3 bm=mix(bl,br,f.x);gl_FragColor.rgb=mix(tm,bm,f.y);gl_FragColor=linearToOutputTexel(gl_FragColor);}`,blending:s.jFi,depthTest:!1,depthWrite:!1})}function D(){return new u({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:w[s.rnI]},outputEncoding:{value:w[s.rnI]}},vertexShader:I(),fragmentShader:`precision mediump float;precision mediump int;varying vec3 vOutputDirection;uniform samplerCube envMap;\n${k()}\nvoid main(){gl_FragColor=vec4(0.0,0.0,0.0,1.0);gl_FragColor.rgb=envMapTexelToLinear(textureCube(envMap,vec3(-vOutputDirection.x,vOutputDirection.yz))).rgb;gl_FragColor=linearToOutputTexel(gl_FragColor);}`,blending:s.jFi,depthTest:!1,depthWrite:!1})}function I(){return"precision mediump float;precision mediump int;attribute vec3 position;attribute vec2 uv;attribute float faceIndex;varying vec3 vOutputDirection;vec3 getDirection(vec2 uv,float face){uv=2.0*uv-1.0;vec3 direction=vec3(uv,1.0);if(face==0.0){direction=direction.zyx;}else if(face==1.0){direction=direction.xzy;direction.xz*=-1.0;}else if(face==2.0){direction.x*=-1.0;}else if(face==3.0){direction=direction.zyx;direction.xz*=-1.0;}else if(face==4.0){direction=direction.xzy;direction.xy*=-1.0;}else if(face==5.0){direction.z*=-1.0;}return direction;}void main(){vOutputDirection=getDirection(uv,faceIndex);gl_Position=vec4(position,1.0);}"}function k(){return"uniform int inputEncoding;uniform int outputEncoding;\n#include <encodings_pars_fragment>\nvec4 inputTexelToLinear(vec4 value){if(inputEncoding==0){return value;}else if(inputEncoding==1){return sRGBToLinear(value);}else if(inputEncoding==2){return RGBEToLinear(value);}else if(inputEncoding==3){return RGBMToLinear(value,7.0);}else if(inputEncoding==4){return RGBMToLinear(value,16.0);}else if(inputEncoding==5){return RGBDToLinear(value,256.0);}else{return GammaToLinear(value,2.2);}}vec4 linearToOutputTexel(vec4 value){if(outputEncoding==0){return value;}else if(outputEncoding==1){return LinearTosRGB(value);}else if(outputEncoding==2){return LinearToRGBE(value);}else if(outputEncoding==3){return LinearToRGBM(value,7.0);}else if(outputEncoding==4){return LinearToRGBM(value,16.0);}else if(outputEncoding==5){return LinearToRGBD(value,256.0);}else{return LinearToGamma(value,2.2);}}vec4 envMapTexelToLinear(vec4 color){return inputTexelToLinear(color);}"}},2514:(t,e,i)=>{i.d(e,{H:()=>o});var s=i(2043),r=i(1138),n=i(6881),a=i(9203);class o{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,s=this.getPoint(0),r=0;e.push(0);for(let n=1;n<=t;n++)i=this.getPoint(n/t),r+=i.distanceTo(s),e.push(r),s=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const i=this.getLengths();let s=0;const r=i.length;let n;n=e||t*i[r-1];let a,o=0,h=r-1;for(;o<=h;)if(s=Math.floor(o+(h-o)/2),a=i[s]-n,a<0)o=s+1;else{if(!(a>0)){h=s;break}h=s-1}if(s=h,i[s]===n)return s/(r-1);const l=i[s];return(s+(n-l)/(i[s+1]-l))/(r-1)}getTangent(t,e){const i=1e-4;let s=t-i,a=t+i;s<0&&(s=0),a>1&&(a=1);const o=this.getPoint(s),h=this.getPoint(a),l=e||(o.isVector2?new r.F:new n.P);return l.copy(h).sub(o).normalize(),l}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e){const i=new n.P,r=[],o=[],h=[],l=new n.P,u=new a.y;for(let e=0;e<=t;e++){const i=e/t;r[e]=this.getTangentAt(i,new n.P)}o[0]=new n.P,h[0]=new n.P;let c=Number.MAX_VALUE;const p=Math.abs(r[0].x),d=Math.abs(r[0].y),m=Math.abs(r[0].z);p<=c&&(c=p,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),m<=c&&i.set(0,0,1),l.crossVectors(r[0],i).normalize(),o[0].crossVectors(r[0],l),h[0].crossVectors(r[0],o[0]);for(let e=1;e<=t;e++){if(o[e]=o[e-1].clone(),h[e]=h[e-1].clone(),l.crossVectors(r[e-1],r[e]),l.length()>Number.EPSILON){l.normalize();const t=Math.acos(s.uZ(r[e-1].dot(r[e]),-1,1));o[e].applyMatrix4(u.makeRotationAxis(l,t))}h[e].crossVectors(r[e],o[e])}if(!0===e){let e=Math.acos(s.uZ(o[0].dot(o[t]),-1,1));e/=t,r[0].dot(l.crossVectors(o[0],o[t]))>0&&(e=-e);for(let i=1;i<=t;i++)o[i].applyMatrix4(u.makeRotationAxis(r[i],e*i)),h[i].crossVectors(r[i],o[i])}return{tangents:r,normals:o,binormals:h}}clone(){return(new this.constructor).copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}},7546:(t,e,i)=>{i.d(e,{Y:()=>u});var s=i(6881),r=i(2514);function n(){let t=0,e=0,i=0,s=0;function r(r,n,a,o){t=r,e=a,i=-3*r+3*n-2*a-o,s=2*r-2*n+a+o}return{initCatmullRom:function(t,e,i,s,n){r(e,i,n*(i-t),n*(s-e))},initNonuniformCatmullRom:function(t,e,i,s,n,a,o){let h=(e-t)/n-(i-t)/(n+a)+(i-e)/a,l=(i-e)/a-(s-e)/(a+o)+(s-i)/o;h*=a,l*=a,r(e,i,h,l)},calc:function(r){const n=r*r;return t+e*r+i*n+s*(n*r)}}}const a=new s.P,o=new n,h=new n,l=new n;class u extends r.H{constructor(t=[],e=!1,i="centripetal",s=.5){super(),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=s}getPoint(t,e=new s.P){const i=e,r=this.points,n=r.length,u=(n-(this.closed?0:1))*t;let c,p,d=Math.floor(u),m=u-d;this.closed?d+=d>0?0:(Math.floor(Math.abs(d)/n)+1)*n:0===m&&d===n-1&&(d=n-2,m=1),this.closed||d>0?c=r[(d-1)%n]:(a.subVectors(r[0],r[1]).add(r[0]),c=a);const g=r[d%n],f=r[(d+1)%n];if(this.closed||d+2<n?p=r[(d+2)%n]:(a.subVectors(r[n-1],r[n-2]).add(r[n-1]),p=a),"centripetal"===this.curveType||"chordal"===this.curveType){const t="chordal"===this.curveType?.5:.25;let e=Math.pow(c.distanceToSquared(g),t),i=Math.pow(g.distanceToSquared(f),t),s=Math.pow(f.distanceToSquared(p),t);i<1e-4&&(i=1),e<1e-4&&(e=i),s<1e-4&&(s=i),o.initNonuniformCatmullRom(c.x,g.x,f.x,p.x,e,i,s),h.initNonuniformCatmullRom(c.y,g.y,f.y,p.y,e,i,s),l.initNonuniformCatmullRom(c.z,g.z,f.z,p.z,e,i,s)}else"catmullrom"===this.curveType&&(o.initCatmullRom(c.x,g.x,f.x,p.x,this.tension),h.initCatmullRom(c.y,g.y,f.y,p.y,this.tension),l.initCatmullRom(c.z,g.z,f.z,p.z,this.tension));return i.set(o.calc(m),h.calc(m),l.calc(m)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const i=t.points[e];this.points.push(i.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const i=this.points[e];t.points.push(i.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const i=t.points[e];this.points.push((new s.P).fromArray(i))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}u.prototype.isCatmullRomCurve3=!0},6724:(t,e,i)=>{i.d(e,{D:()=>a});var s=i(9046),r=i(140),n=i(6881);class a extends s.u{constructor(t=1,e=1,i=1,s=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:s,heightSegments:a,depthSegments:o};const h=this;s=Math.floor(s),a=Math.floor(a),o=Math.floor(o);const l=[],u=[],c=[],p=[];let d=0,m=0;function g(t,e,i,s,r,a,o,g,f,y,v){const x=a/f,M=o/y,w=a/2,b=o/2,S=g/2,A=f+1,P=y+1;let T=0,O=0;const C=new n.P;for(let n=0;n<P;n++){const a=n*M-b;for(let o=0;o<A;o++){const h=o*x-w;C[t]=h*s,C[e]=a*r,C[i]=S,u.push(C.x,C.y,C.z),C[t]=0,C[e]=0,C[i]=g>0?1:-1,c.push(C.x,C.y,C.z),p.push(o/f),p.push(1-n/y),T+=1}}for(let t=0;t<y;t++)for(let e=0;e<f;e++){const i=d+e+A*t,s=d+e+A*(t+1),r=d+(e+1)+A*(t+1),n=d+(e+1)+A*t;l.push(i,s,n),l.push(s,r,n),O+=6}h.addGroup(m,O,v),m+=O,d+=T}g("z","y","x",-1,-1,i,e,t,o,a,0),g("z","y","x",1,-1,i,e,-t,o,a,1),g("x","z","y",1,1,t,i,e,s,o,2),g("x","z","y",1,-1,t,i,-e,s,o,3),g("x","y","z",1,-1,t,e,i,s,a,4),g("x","y","z",-1,-1,t,e,-i,s,a,5),this.setIndex(l),this.setAttribute("position",new r.a$(u,3)),this.setAttribute("normal",new r.a$(c,3)),this.setAttribute("uv",new r.a$(p,2))}static fromJSON(t){return new a(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}},4078:(t,e,i)=>{i.d(e,{_:()=>n});var s=i(9046),r=i(140);class n extends s.u{constructor(t=1,e=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:s};const n=t/2,a=e/2,o=Math.floor(i),h=Math.floor(s),l=o+1,u=h+1,c=t/o,p=e/h,d=[],m=[],g=[],f=[];for(let t=0;t<u;t++){const e=t*p-a;for(let i=0;i<l;i++){const s=i*c-n;m.push(s,-e,0),g.push(0,0,1),f.push(i/o),f.push(1-t/h)}}for(let t=0;t<h;t++)for(let e=0;e<o;e++){const i=e+l*t,s=e+l*(t+1),r=e+1+l*(t+1),n=e+1+l*t;d.push(i,s,n),d.push(s,r,n)}this.setIndex(d),this.setAttribute("position",new r.a$(m,3)),this.setAttribute("normal",new r.a$(g,3)),this.setAttribute("uv",new r.a$(f,2))}static fromJSON(t){return new n(t.width,t.height,t.widthSegments,t.heightSegments)}}},2785:(t,e,i)=>{i.d(e,{x:()=>a});var s=i(9046),r=i(140),n=i(6881);class a extends s.u{constructor(t=1,e=32,i=16,s=0,a=2*Math.PI,o=0,h=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:s,phiLength:a,thetaStart:o,thetaLength:h},e=Math.max(3,Math.floor(e)),i=Math.max(2,Math.floor(i));const l=Math.min(o+h,Math.PI);let u=0;const c=[],p=new n.P,d=new n.P,m=[],g=[],f=[],y=[];for(let r=0;r<=i;r++){const n=[],m=r/i;let v=0;0==r&&0==o?v=.5/e:r==i&&l==Math.PI&&(v=-.5/e);for(let i=0;i<=e;i++){const r=i/e;p.x=-t*Math.cos(s+r*a)*Math.sin(o+m*h),p.y=t*Math.cos(o+m*h),p.z=t*Math.sin(s+r*a)*Math.sin(o+m*h),g.push(p.x,p.y,p.z),d.copy(p).normalize(),f.push(d.x,d.y,d.z),y.push(r+v,1-m),n.push(u++)}c.push(n)}for(let t=0;t<i;t++)for(let s=0;s<e;s++){const e=c[t][s+1],r=c[t][s],n=c[t+1][s],a=c[t+1][s+1];(0!==t||o>0)&&m.push(e,r,a),(t!==i-1||l<Math.PI)&&m.push(r,n,a)}this.setIndex(m),this.setAttribute("position",new r.a$(g,3)),this.setAttribute("normal",new r.a$(f,3)),this.setAttribute("uv",new r.a$(y,2))}static fromJSON(t){return new a(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}},1043:(t,e,i)=>{i.d(e,{F:()=>a});var s=i(9046),r=i(140),n=i(6881);class a extends s.u{constructor(t=1,e=.4,i=64,s=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:s,p:a,q:o},i=Math.floor(i),s=Math.floor(s);const h=[],l=[],u=[],c=[],p=new n.P,d=new n.P,m=new n.P,g=new n.P,f=new n.P,y=new n.P,v=new n.P;for(let r=0;r<=i;++r){const n=r/i*a*Math.PI*2;x(n,a,o,t,m),x(n+.01,a,o,t,g),y.subVectors(g,m),v.addVectors(g,m),f.crossVectors(y,v),v.crossVectors(f,y),f.normalize(),v.normalize();for(let t=0;t<=s;++t){const n=t/s*Math.PI*2,a=-e*Math.cos(n),o=e*Math.sin(n);p.x=m.x+(a*v.x+o*f.x),p.y=m.y+(a*v.y+o*f.y),p.z=m.z+(a*v.z+o*f.z),l.push(p.x,p.y,p.z),d.subVectors(p,m).normalize(),u.push(d.x,d.y,d.z),c.push(r/i),c.push(t/s)}}for(let t=1;t<=i;t++)for(let e=1;e<=s;e++){const i=(s+1)*(t-1)+(e-1),r=(s+1)*t+(e-1),n=(s+1)*t+e,a=(s+1)*(t-1)+e;h.push(i,r,a),h.push(r,n,a)}function x(t,e,i,s,r){const n=Math.cos(t),a=Math.sin(t),o=i/e*t,h=Math.cos(o);r.x=s*(2+h)*.5*n,r.y=s*(2+h)*a*.5,r.z=s*Math.sin(o)*.5}this.setIndex(h),this.setAttribute("position",new r.a$(l,3)),this.setAttribute("normal",new r.a$(u,3)),this.setAttribute("uv",new r.a$(c,2))}static fromJSON(t){return new a(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}},3868:(t,e,i)=>{i.d(e,{W:()=>b});var s={};i.r(s),i.d(s,{ArcCurve:()=>l,CatmullRomCurve3:()=>u.Y,CubicBezierCurve:()=>m,CubicBezierCurve3:()=>f,EllipseCurve:()=>h,LineCurve:()=>y,LineCurve3:()=>v,QuadraticBezierCurve:()=>x,QuadraticBezierCurve3:()=>M,SplineCurve:()=>w});var r=i(9046),n=i(140),a=i(2514),o=i(1138);class h extends a.H{constructor(t=0,e=0,i=1,s=1,r=0,n=2*Math.PI,a=!1,o=0){super(),this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=s,this.aStartAngle=r,this.aEndAngle=n,this.aClockwise=a,this.aRotation=o}getPoint(t,e){const i=e||new o.F,s=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const n=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=s;for(;r>s;)r-=s;r<Number.EPSILON&&(r=n?0:s),!0!==this.aClockwise||n||(r===s?r=-s:r-=s);const a=this.aStartAngle+t*r;let h=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),i=h-this.aX,s=l-this.aY;h=i*t-s*e+this.aX,l=i*e+s*t+this.aY}return i.set(h,l)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}h.prototype.isEllipseCurve=!0;class l extends h{constructor(t,e,i,s,r,n){super(t,e,i,i,s,r,n),this.type="ArcCurve"}}l.prototype.isArcCurve=!0;var u=i(7546);function c(t,e,i,s,r){const n=.5*(s-e),a=.5*(r-i),o=t*t;return(2*i-2*s+n+a)*(t*o)+(-3*i+3*s-2*n-a)*o+n*t+i}function p(t,e,i,s){return function(t,e){const i=1-t;return i*i*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,i)+function(t,e){return t*t*e}(t,s)}function d(t,e,i,s,r){return function(t,e){const i=1-t;return i*i*i*e}(t,e)+function(t,e){const i=1-t;return 3*i*i*t*e}(t,i)+function(t,e){return 3*(1-t)*t*t*e}(t,s)+function(t,e){return t*t*t*e}(t,r)}class m extends a.H{constructor(t=new o.F,e=new o.F,i=new o.F,s=new o.F){super(),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new o.F){const i=e,s=this.v0,r=this.v1,n=this.v2,a=this.v3;return i.set(d(t,s.x,r.x,n.x,a.x),d(t,s.y,r.y,n.y,a.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}m.prototype.isCubicBezierCurve=!0;var g=i(6881);class f extends a.H{constructor(t=new g.P,e=new g.P,i=new g.P,s=new g.P){super(),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new g.P){const i=e,s=this.v0,r=this.v1,n=this.v2,a=this.v3;return i.set(d(t,s.x,r.x,n.x,a.x),d(t,s.y,r.y,n.y,a.y),d(t,s.z,r.z,n.z,a.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}f.prototype.isCubicBezierCurve3=!0;class y extends a.H{constructor(t=new o.F,e=new o.F){super(),this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new o.F){const i=e;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e){const i=e||new o.F;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}y.prototype.isLineCurve=!0;class v extends a.H{constructor(t=new g.P,e=new g.P){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=t,this.v2=e}getPoint(t,e=new g.P){const i=e;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class x extends a.H{constructor(t=new o.F,e=new o.F,i=new o.F){super(),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new o.F){const i=e,s=this.v0,r=this.v1,n=this.v2;return i.set(p(t,s.x,r.x,n.x),p(t,s.y,r.y,n.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}x.prototype.isQuadraticBezierCurve=!0;class M extends a.H{constructor(t=new g.P,e=new g.P,i=new g.P){super(),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new g.P){const i=e,s=this.v0,r=this.v1,n=this.v2;return i.set(p(t,s.x,r.x,n.x),p(t,s.y,r.y,n.y),p(t,s.z,r.z,n.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}M.prototype.isQuadraticBezierCurve3=!0;class w extends a.H{constructor(t=[]){super(),this.type="SplineCurve",this.points=t}getPoint(t,e=new o.F){const i=e,s=this.points,r=(s.length-1)*t,n=Math.floor(r),a=r-n,h=s[0===n?n:n-1],l=s[n],u=s[n>s.length-2?s.length-1:n+1],p=s[n>s.length-3?s.length-1:n+2];return i.set(c(a,h.x,l.x,u.x,p.x),c(a,h.y,l.y,u.y,p.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const i=t.points[e];this.points.push(i.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const i=this.points[e];t.points.push(i.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const i=t.points[e];this.points.push((new o.F).fromArray(i))}return this}}w.prototype.isSplineCurve=!0;class b extends r.u{constructor(t=new M(new g.P(-1,-1,0),new g.P(-1,1,0),new g.P(1,1,0)),e=64,i=1,s=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:s,closed:r};const a=t.computeFrenetFrames(e,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const h=new g.P,l=new g.P,u=new o.F;let c=new g.P;const p=[],d=[],m=[],f=[];function y(r){c=t.getPointAt(r/e,c);const n=a.normals[r],o=a.binormals[r];for(let t=0;t<=s;t++){const e=t/s*Math.PI*2,r=Math.sin(e),a=-Math.cos(e);l.x=a*n.x+r*o.x,l.y=a*n.y+r*o.y,l.z=a*n.z+r*o.z,l.normalize(),d.push(l.x,l.y,l.z),h.x=c.x+i*l.x,h.y=c.y+i*l.y,h.z=c.z+i*l.z,p.push(h.x,h.y,h.z)}}!function(){for(let t=0;t<e;t++)y(t);y(!1===r?e:0),function(){for(let t=0;t<=e;t++)for(let i=0;i<=s;i++)u.x=t/e,u.y=i/s,m.push(u.x,u.y)}(),function(){for(let t=1;t<=e;t++)for(let e=1;e<=s;e++){const i=(s+1)*(t-1)+(e-1),r=(s+1)*t+(e-1),n=(s+1)*t+e,a=(s+1)*(t-1)+e;f.push(i,r,a),f.push(r,n,a)}}()}(),this.setIndex(f),this.setAttribute("position",new n.a$(p,3)),this.setAttribute("normal",new n.a$(d,3)),this.setAttribute("uv",new n.a$(m,2))}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new b((new s[t.path.type]).fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}},1507:(t,e,i)=>{i.d(e,{M:()=>r});var s=i(7185);class r extends s._{constructor(t,e){super(t,e),this.type="AmbientLight"}}r.prototype.isAmbientLight=!0},7185:(t,e,i)=>{i.d(e,{_:()=>n});var s=i(6469),r=i(3662);class n extends s.T{constructor(t,e=1){super(),this.type="Light",this.color=new r.I(t),this.intensity=e}dispose(){}copy(t){return super.copy(t),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}n.prototype.isLight=!0},5696:(t,e,i)=>{i.d(e,{c:()=>y});var s=i(7185),r=i(9203),n=i(1138),a=i(6881),o=i(223),h=i(4698);const l=new r.y,u=new a.P,c=new a.P;var p=i(1051);const d=new r.y,m=new a.P,g=new a.P;class f extends class{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new n.F(512,512),this.map=null,this.mapPass=null,this.matrix=new r.y,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new h.i,this._frameExtents=new n.F(1,1),this._viewportCount=1,this._viewports=[new o.L(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;u.setFromMatrixPosition(t.matrixWorld),e.position.copy(u),c.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(c),e.updateMatrixWorld(),l.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(l),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(e.projectionMatrix),i.multiply(e.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}{constructor(){super(new p.c(90,1,.5,500)),this._frameExtents=new n.F(4,2),this._viewportCount=6,this._viewports=[new o.L(2,1,1,1),new o.L(0,1,1,1),new o.L(3,1,1,1),new o.L(1,1,1,1),new o.L(3,0,1,1),new o.L(1,0,1,1)],this._cubeDirections=[new a.P(1,0,0),new a.P(-1,0,0),new a.P(0,0,1),new a.P(0,0,-1),new a.P(0,1,0),new a.P(0,-1,0)],this._cubeUps=[new a.P(0,1,0),new a.P(0,1,0),new a.P(0,1,0),new a.P(0,1,0),new a.P(0,0,1),new a.P(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,s=this.matrix,r=t.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),m.setFromMatrixPosition(t.matrixWorld),i.position.copy(m),g.copy(i.position),g.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(g),i.updateMatrixWorld(),s.makeTranslation(-m.x,-m.y,-m.z),d.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(d)}}f.prototype.isPointLightShadow=!0;class y extends s._{constructor(t,e,i=0,s=1){super(t,e),this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new f}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}y.prototype.isPointLight=!0},8221:(t,e,i)=>{i.d(e,{d:()=>l});const s={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};const r=new class{constructor(t,e,i){const s=this;let r,n=!1,a=0,o=0;const h=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(t){o++,!1===n&&void 0!==s.onStart&&s.onStart(t,a,o),n=!0},this.itemEnd=function(t){a++,void 0!==s.onProgress&&s.onProgress(t,a,o),a===o&&(n=!1,void 0!==s.onLoad&&s.onLoad())},this.itemError=function(t){void 0!==s.onError&&s.onError(t)},this.resolveURL=function(t){return r?r(t):t},this.setURLModifier=function(t){return r=t,this},this.addHandler=function(t,e){return h.push(t,e),this},this.removeHandler=function(t){const e=h.indexOf(t);return-1!==e&&h.splice(e,2),this},this.getHandler=function(t){for(let e=0,i=h.length;e<i;e+=2){const i=h[e],s=h[e+1];if(i.global&&(i.lastIndex=0),i.test(t))return s}return null}}};class n{constructor(t){this.manager=void 0!==t?t:r,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise((function(s,r){i.load(t,s,e,r)}))}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}var a=i(392);class o extends n{constructor(t){super(t)}load(t,e,i,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const n=this,o=s.get(t);if(void 0!==o)return n.manager.itemStart(t),setTimeout((function(){e&&e(o),n.manager.itemEnd(t)}),0),o;const h=(0,a.c)("img");function l(){c(),s.add(t,this),e&&e(this),n.manager.itemEnd(t)}function u(e){c(),r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)}function c(){h.removeEventListener("load",l,!1),h.removeEventListener("error",u,!1)}return h.addEventListener("load",l,!1),h.addEventListener("error",u,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(h.crossOrigin=this.crossOrigin),n.manager.itemStart(t),h.src=t,h}}var h=i(4467);class l extends n{constructor(t){super(t)}load(t,e,i,s){const r=new h.x,n=new o(this.manager);return n.setCrossOrigin(this.crossOrigin),n.setPath(this.path),n.load(t,(function(t){r.image=t,r.needsUpdate=!0,void 0!==e&&e(r)}),i,s),r}}},4164:(t,e,i)=>{i.d(e,{F:()=>o});var s=i(7406),r=i(1661),n=i(2043);let a=0;class o extends s.p{constructor(){super(),Object.defineProperty(this,"id",{value:a++}),this.uuid=n.DO(),this.name="",this.type="Material",this.fog=!0,this.blending=r.bdR,this.side=r.Wl3,this.vertexColors=!1,this.opacity=1,this.format=r.wk1,this.transparent=!1,this.blendSrc=r.k74,this.blendDst=r.LgZ,this.blendEquation=r.bGH,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=r.vCF,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=r.cum,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=r.x5V,this.stencilZFail=r.x5V,this.stencilZPass=r.x5V,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const i=t[e];if(void 0===i){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if("shading"===e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===r.esl;continue}const s=this[e];void 0!==s?s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[e]=i:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function s(t){const e=[];for(const i in t){const s=t[i];delete s.metadata,e.push(s)}return e}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==r.bdR&&(i.blending=this.blending),this.side!==r.Wl3&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.format!==r.wk1&&(i.format=this.format),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),e){const e=s(t.textures),r=s(t.images);e.length>0&&(i.textures=e),r.length>0&&(i.images=r)}return i}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.format=t.format,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(null!==e){const t=e.length;i=new Array(t);for(let s=0;s!==t;++s)i[s]=e[s].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}o.prototype.isMaterial=!0},6173:(t,e,i)=>{i.d(e,{v:()=>a});var s=i(4164),r=i(1661),n=i(3662);class a extends s.F{constructor(t){super(),this.type="MeshBasicMaterial",this.color=new n.I(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=r.Ns1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}a.prototype.isMeshBasicMaterial=!0},2114:(t,e,i)=>{i.d(e,{l:()=>n});var s=i(4164),r=i(1661);class n extends s.F{constructor(t){super(),this.type="MeshDepthMaterial",this.depthPacking=r.z81,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}n.prototype.isMeshDepthMaterial=!0},7683:(t,e,i)=>{i.d(e,{L:()=>n});var s=i(4164),r=i(6881);class n extends s.F{constructor(t){super(),this.type="MeshDistanceMaterial",this.referencePosition=new r.P,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}n.prototype.isMeshDistanceMaterial=!0},2434:(t,e,i)=>{i.d(e,{E:()=>l});var s=i(1138),r=i(1661),n=i(4164),a=i(3662);class o extends n.F{constructor(t){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new a.I(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new a.I(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=r.IOt,this.normalScale=new s.F(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}o.prototype.isMeshStandardMaterial=!0;var h=i(2043);class l extends o{constructor(t){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new s.F(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return h.uZ(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new a.I(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new a.I(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new a.I(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(t)}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}l.prototype.isMeshPhysicalMaterial=!0},1621:(t,e,i)=>{i.d(e,{j:()=>o});var s=i(4164),r=i(6682),n=i(5880),a=i(1306);class o extends s.F{constructor(t){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=n.Z,this.fragmentShader=a.Z,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=(0,r.dw)(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?e.uniforms[i]={type:"t",value:s.toJSON(t).uuid}:s&&s.isColor?e.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?e.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?e.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?e.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?e.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?e.uniforms[i]={type:"m4",value:s.toArray()}:e.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const i={};for(const t in this.extensions)!0===this.extensions[t]&&(i[t]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}o.prototype.isShaderMaterial=!0}}]);